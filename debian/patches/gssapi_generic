Index: openssh/config.h.in
===================================================================
--- openssh.orig/config.h.in	2011-09-22 16:04:02.121200994 -0400
+++ openssh/config.h.in	2011-09-22 16:09:02.453417602 -0400
@@ -482,6 +482,9 @@
 /* Define to 1 if you have the <gssapi_generic.h> header file. */
 #undef HAVE_GSSAPI_GENERIC_H
 
+/* Define to 1 if you have the <gssapi/gssapi_ext.h> header file. */
+#undef HAVE_GSSAPI_GSSAPI_EXT_H
+
 /* Define to 1 if you have the <gssapi/gssapi_generic.h> header file. */
 #undef HAVE_GSSAPI_GSSAPI_GENERIC_H
 
@@ -497,6 +500,12 @@
 /* Define to 1 if you have the <gssapi_krb5.h> header file. */
 #undef HAVE_GSSAPI_KRB5_H
 
+/* Define to 1 if you have the `gss_localname' function. */
+#undef HAVE_GSS_LOCALNAME
+
+/* Define to 1 if you have the `gss_userok' function. */
+#undef HAVE_GSS_USEROK
+
 /* Define if HEADER.ad exists in arpa/nameser.h */
 #undef HAVE_HEADER_AD
 
Index: openssh/configure
===================================================================
--- openssh.orig/configure	2011-09-22 16:04:02.129200894 -0400
+++ openssh/configure	2011-09-22 16:09:02.465417451 -0400
@@ -1,7 +1,7 @@
 #! /bin/sh
 # From configure.ac Revision: 1.480 .
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.68 for OpenSSH Portable.
+# Generated by GNU Autoconf 2.67 for OpenSSH Portable.
 #
 # Report bugs to <openssh-unix-dev@mindrot.org>.
 #
@@ -92,7 +92,6 @@
 IFS=" ""	$as_nl"
 
 # Find who we are.  Look in the path if we contain no directory separator.
-as_myself=
 case $0 in #((
   *[\\/]* ) as_myself=$0 ;;
   *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -218,18 +217,11 @@
   # We cannot yet assume a decent shell, so we have to provide a
 	# neutralization value for shells without unset; and this also
 	# works around shells that cannot unset nonexistent variables.
-	# Preserve -v and -x to the replacement shell.
 	BASH_ENV=/dev/null
 	ENV=/dev/null
 	(unset BASH_ENV) >/dev/null 2>&1 && unset BASH_ENV ENV
 	export CONFIG_SHELL
-	case $- in # ((((
-	  *v*x* | *x*v* ) as_opts=-vx ;;
-	  *v* ) as_opts=-v ;;
-	  *x* ) as_opts=-x ;;
-	  * ) as_opts= ;;
-	esac
-	exec "$CONFIG_SHELL" $as_opts "$as_myself" ${1+"$@"}
+	exec "$CONFIG_SHELL" "$as_myself" ${1+"$@"}
 fi
 
     if test x$as_have_required = xno; then :
@@ -1171,7 +1163,7 @@
     $as_echo "$as_me: WARNING: you should use --build, --host, --target" >&2
     expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
       $as_echo "$as_me: WARNING: invalid host type: $ac_option" >&2
-    : "${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}"
+    : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
     ;;
 
   esac
@@ -1514,7 +1506,7 @@
 if $ac_init_version; then
   cat <<\_ACEOF
 OpenSSH configure Portable
-generated by GNU Autoconf 2.68
+generated by GNU Autoconf 2.67
 
 Copyright (C) 2010 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
@@ -1560,7 +1552,7 @@
 
 	ac_retval=1
 fi
-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
   as_fn_set_status $ac_retval
 
 } # ac_fn_c_try_compile
@@ -1602,7 +1594,7 @@
        ac_retval=$ac_status
 fi
   rm -rf conftest.dSYM conftest_ipa8_conftest.oo
-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
   as_fn_set_status $ac_retval
 
 } # ac_fn_c_try_run
@@ -1639,7 +1631,7 @@
 
     ac_retval=1
 fi
-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
   as_fn_set_status $ac_retval
 
 } # ac_fn_c_try_cpp
@@ -1653,7 +1645,7 @@
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if eval \${$3+:} false; then :
+if eval "test \"\${$3+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -1671,7 +1663,7 @@
 eval ac_res=\$$3
 	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
 $as_echo "$ac_res" >&6; }
-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
 
 } # ac_fn_c_check_header_compile
 
@@ -1686,7 +1678,7 @@
   as_decl_use=`echo $2|sed -e 's/(/((/' -e 's/)/) 0&/' -e 's/,/) 0& (/g'`
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $as_decl_name is declared" >&5
 $as_echo_n "checking whether $as_decl_name is declared... " >&6; }
-if eval \${$3+:} false; then :
+if eval "test \"\${$3+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -1717,7 +1709,7 @@
 eval ac_res=\$$3
 	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
 $as_echo "$ac_res" >&6; }
-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
 
 } # ac_fn_c_check_decl
 
@@ -1762,7 +1754,7 @@
   # interfere with the next link command; also delete a directory that is
   # left behind by Apple's compiler.  We do this before executing the actions.
   rm -rf conftest.dSYM conftest_ipa8_conftest.oo
-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
   as_fn_set_status $ac_retval
 
 } # ac_fn_c_try_link
@@ -1775,10 +1767,10 @@
 ac_fn_c_check_header_mongrel ()
 {
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
-  if eval \${$3+:} false; then :
+  if eval "test \"\${$3+set}\"" = set; then :
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if eval \${$3+:} false; then :
+if eval "test \"\${$3+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 fi
 eval ac_res=\$$3
@@ -1845,7 +1837,7 @@
 esac
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if eval \${$3+:} false; then :
+if eval "test \"\${$3+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   eval "$3=\$ac_header_compiler"
@@ -1854,7 +1846,7 @@
 	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
 $as_echo "$ac_res" >&6; }
 fi
-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
 
 } # ac_fn_c_check_header_mongrel
 
@@ -1866,7 +1858,7 @@
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if eval \${$3+:} false; then :
+if eval "test \"\${$3+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -1921,7 +1913,7 @@
 eval ac_res=\$$3
 	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
 $as_echo "$ac_res" >&6; }
-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
 
 } # ac_fn_c_check_func
 
@@ -1934,7 +1926,7 @@
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if eval \${$3+:} false; then :
+if eval "test \"\${$3+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   eval "$3=no"
@@ -1975,7 +1967,7 @@
 eval ac_res=\$$3
 	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
 $as_echo "$ac_res" >&6; }
-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
 
 } # ac_fn_c_check_type
 
@@ -2152,7 +2144,7 @@
 rm -f conftest.val
 
   fi
-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
   as_fn_set_status $ac_retval
 
 } # ac_fn_c_compute_int
@@ -2166,7 +2158,7 @@
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2.$3" >&5
 $as_echo_n "checking for $2.$3... " >&6; }
-if eval \${$4+:} false; then :
+if eval "test \"\${$4+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -2210,7 +2202,7 @@
 eval ac_res=\$$4
 	       { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
 $as_echo "$ac_res" >&6; }
-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
+  eval $as_lineno_stack; test "x$as_lineno_stack" = x && { as_lineno=; unset as_lineno;}
 
 } # ac_fn_c_check_member
 cat >config.log <<_ACEOF
@@ -2218,7 +2210,7 @@
 running configure, to aid debugging if configure makes a mistake.
 
 It was created by OpenSSH $as_me Portable, which was
-generated by GNU Autoconf 2.68.  Invocation command line was
+generated by GNU Autoconf 2.67.  Invocation command line was
 
   $ $0 $@
 
@@ -2476,7 +2468,7 @@
       || { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error $? "failed to load site script $ac_site_file
-See \`config.log' for more details" "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5 ; }
   fi
 done
 
@@ -2586,7 +2578,7 @@
 set dummy ${ac_tool_prefix}gcc; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_prog_CC+:} false; then :
+if test "${ac_cv_prog_CC+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$CC"; then
@@ -2626,7 +2618,7 @@
 set dummy gcc; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_prog_ac_ct_CC+:} false; then :
+if test "${ac_cv_prog_ac_ct_CC+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$ac_ct_CC"; then
@@ -2679,7 +2671,7 @@
 set dummy ${ac_tool_prefix}cc; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_prog_CC+:} false; then :
+if test "${ac_cv_prog_CC+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$CC"; then
@@ -2719,7 +2711,7 @@
 set dummy cc; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_prog_CC+:} false; then :
+if test "${ac_cv_prog_CC+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$CC"; then
@@ -2778,7 +2770,7 @@
 set dummy $ac_tool_prefix$ac_prog; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_prog_CC+:} false; then :
+if test "${ac_cv_prog_CC+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$CC"; then
@@ -2822,7 +2814,7 @@
 set dummy $ac_prog; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_prog_ac_ct_CC+:} false; then :
+if test "${ac_cv_prog_ac_ct_CC+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$ac_ct_CC"; then
@@ -2877,7 +2869,7 @@
 test -z "$CC" && { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error $? "no acceptable C compiler found in \$PATH
-See \`config.log' for more details" "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5 ; }
 
 # Provide some information about the compiler.
 $as_echo "$as_me:${as_lineno-$LINENO}: checking for C compiler version" >&5
@@ -2992,7 +2984,7 @@
 { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error 77 "C compiler cannot create executables
-See \`config.log' for more details" "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
@@ -3035,7 +3027,7 @@
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error $? "cannot compute suffix of executables: cannot compile and link
-See \`config.log' for more details" "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5 ; }
 fi
 rm -f conftest conftest$ac_cv_exeext
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_exeext" >&5
@@ -3094,7 +3086,7 @@
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error $? "cannot run C compiled programs.
 If you meant to cross compile, use \`--host'.
-See \`config.log' for more details" "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5 ; }
     fi
   fi
 fi
@@ -3105,7 +3097,7 @@
 ac_clean_files=$ac_clean_files_save
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for suffix of object files" >&5
 $as_echo_n "checking for suffix of object files... " >&6; }
-if ${ac_cv_objext+:} false; then :
+if test "${ac_cv_objext+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -3146,7 +3138,7 @@
 { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error $? "cannot compute suffix of object files: cannot compile
-See \`config.log' for more details" "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5 ; }
 fi
 rm -f conftest.$ac_cv_objext conftest.$ac_ext
 fi
@@ -3156,7 +3148,7 @@
 ac_objext=$OBJEXT
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether we are using the GNU C compiler" >&5
 $as_echo_n "checking whether we are using the GNU C compiler... " >&6; }
-if ${ac_cv_c_compiler_gnu+:} false; then :
+if test "${ac_cv_c_compiler_gnu+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -3193,7 +3185,7 @@
 ac_save_CFLAGS=$CFLAGS
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $CC accepts -g" >&5
 $as_echo_n "checking whether $CC accepts -g... " >&6; }
-if ${ac_cv_prog_cc_g+:} false; then :
+if test "${ac_cv_prog_cc_g+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_save_c_werror_flag=$ac_c_werror_flag
@@ -3271,7 +3263,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $CC option to accept ISO C89" >&5
 $as_echo_n "checking for $CC option to accept ISO C89... " >&6; }
-if ${ac_cv_prog_cc_c89+:} false; then :
+if test "${ac_cv_prog_cc_c89+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_cv_prog_cc_c89=no
@@ -3401,7 +3393,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking build system type" >&5
 $as_echo_n "checking build system type... " >&6; }
-if ${ac_cv_build+:} false; then :
+if test "${ac_cv_build+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_build_alias=$build_alias
@@ -3417,7 +3409,7 @@
 $as_echo "$ac_cv_build" >&6; }
 case $ac_cv_build in
 *-*-*) ;;
-*) as_fn_error $? "invalid value of canonical build" "$LINENO" 5;;
+*) as_fn_error $? "invalid value of canonical build" "$LINENO" 5 ;;
 esac
 build=$ac_cv_build
 ac_save_IFS=$IFS; IFS='-'
@@ -3435,7 +3427,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking host system type" >&5
 $as_echo_n "checking host system type... " >&6; }
-if ${ac_cv_host+:} false; then :
+if test "${ac_cv_host+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if test "x$host_alias" = x; then
@@ -3450,7 +3442,7 @@
 $as_echo "$ac_cv_host" >&6; }
 case $ac_cv_host in
 *-*-*) ;;
-*) as_fn_error $? "invalid value of canonical host" "$LINENO" 5;;
+*) as_fn_error $? "invalid value of canonical host" "$LINENO" 5 ;;
 esac
 host=$ac_cv_host
 ac_save_IFS=$IFS; IFS='-'
@@ -3479,7 +3471,7 @@
   CPP=
 fi
 if test -z "$CPP"; then
-  if ${ac_cv_prog_CPP+:} false; then :
+  if test "${ac_cv_prog_CPP+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
       # Double quotes because CPP needs to be expanded
@@ -3595,7 +3587,7 @@
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error $? "C preprocessor \"$CPP\" fails sanity check
-See \`config.log' for more details" "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5 ; }
 fi
 
 ac_ext=c
@@ -3607,7 +3599,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e" >&5
 $as_echo_n "checking for grep that handles long lines and -e... " >&6; }
-if ${ac_cv_path_GREP+:} false; then :
+if test "${ac_cv_path_GREP+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if test -z "$GREP"; then
@@ -3670,7 +3662,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for egrep" >&5
 $as_echo_n "checking for egrep... " >&6; }
-if ${ac_cv_path_EGREP+:} false; then :
+if test "${ac_cv_path_EGREP+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if echo a | $GREP -E '(a|b)' >/dev/null 2>&1
@@ -3737,7 +3729,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for ANSI C header files" >&5
 $as_echo_n "checking for ANSI C header files... " >&6; }
-if ${ac_cv_header_stdc+:} false; then :
+if test "${ac_cv_header_stdc+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -3866,7 +3858,7 @@
 
  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether byte ordering is bigendian" >&5
 $as_echo_n "checking whether byte ordering is bigendian... " >&6; }
-if ${ac_cv_c_bigendian+:} false; then :
+if test "${ac_cv_c_bigendian+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_cv_c_bigendian=unknown
@@ -4085,7 +4077,7 @@
      ;; #(
    *)
      as_fn_error $? "unknown endianness
- presetting ac_cv_c_bigendian=no (or yes) will help" "$LINENO" 5 ;;
+ presetting ac_cv_c_bigendian=no (or yes) will help" "$LINENO" 5  ;;
  esac
 
 
@@ -4096,7 +4088,7 @@
 set dummy $ac_prog; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_prog_AWK+:} false; then :
+if test "${ac_cv_prog_AWK+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$AWK"; then
@@ -4144,7 +4136,7 @@
   CPP=
 fi
 if test -z "$CPP"; then
-  if ${ac_cv_prog_CPP+:} false; then :
+  if test "${ac_cv_prog_CPP+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
       # Double quotes because CPP needs to be expanded
@@ -4260,7 +4252,7 @@
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error $? "C preprocessor \"$CPP\" fails sanity check
-See \`config.log' for more details" "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5 ; }
 fi
 
 ac_ext=c
@@ -4274,7 +4266,7 @@
 set dummy ${ac_tool_prefix}ranlib; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_prog_RANLIB+:} false; then :
+if test "${ac_cv_prog_RANLIB+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$RANLIB"; then
@@ -4314,7 +4306,7 @@
 set dummy ranlib; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_prog_ac_ct_RANLIB+:} false; then :
+if test "${ac_cv_prog_ac_ct_RANLIB+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$ac_ct_RANLIB"; then
@@ -4378,7 +4370,7 @@
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for a BSD-compatible install" >&5
 $as_echo_n "checking for a BSD-compatible install... " >&6; }
 if test -z "$INSTALL"; then
-if ${ac_cv_path_install+:} false; then :
+if test "${ac_cv_path_install+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -4456,7 +4448,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for egrep" >&5
 $as_echo_n "checking for egrep... " >&6; }
-if ${ac_cv_path_EGREP+:} false; then :
+if test "${ac_cv_path_EGREP+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if echo a | $GREP -E '(a|b)' >/dev/null 2>&1
@@ -4525,7 +4517,7 @@
 set dummy ar; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_AR+:} false; then :
+if test "${ac_cv_path_AR+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $AR in
@@ -4565,7 +4557,7 @@
 set dummy cat; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_CAT+:} false; then :
+if test "${ac_cv_path_CAT+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $CAT in
@@ -4605,7 +4597,7 @@
 set dummy kill; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_KILL+:} false; then :
+if test "${ac_cv_path_KILL+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $KILL in
@@ -4647,7 +4639,7 @@
 set dummy $ac_prog; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_PERL+:} false; then :
+if test "${ac_cv_path_PERL+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $PERL in
@@ -4690,7 +4682,7 @@
 set dummy sed; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_SED+:} false; then :
+if test "${ac_cv_path_SED+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $SED in
@@ -4731,7 +4723,7 @@
 set dummy ent; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_ENT+:} false; then :
+if test "${ac_cv_path_ENT+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $ENT in
@@ -4772,7 +4764,7 @@
 set dummy bash; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_TEST_MINUS_S_SH+:} false; then :
+if test "${ac_cv_path_TEST_MINUS_S_SH+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $TEST_MINUS_S_SH in
@@ -4812,7 +4804,7 @@
 set dummy ksh; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_TEST_MINUS_S_SH+:} false; then :
+if test "${ac_cv_path_TEST_MINUS_S_SH+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $TEST_MINUS_S_SH in
@@ -4852,7 +4844,7 @@
 set dummy sh; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_TEST_MINUS_S_SH+:} false; then :
+if test "${ac_cv_path_TEST_MINUS_S_SH+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $TEST_MINUS_S_SH in
@@ -4892,7 +4884,7 @@
 set dummy sh; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_SH+:} false; then :
+if test "${ac_cv_path_SH+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $SH in
@@ -4932,7 +4924,7 @@
 set dummy groff; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_GROFF+:} false; then :
+if test "${ac_cv_path_GROFF+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $GROFF in
@@ -4972,7 +4964,7 @@
 set dummy nroff; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_NROFF+:} false; then :
+if test "${ac_cv_path_NROFF+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $NROFF in
@@ -5012,7 +5004,7 @@
 set dummy mandoc; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_MANDOC+:} false; then :
+if test "${ac_cv_path_MANDOC+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $MANDOC in
@@ -5068,7 +5060,7 @@
 set dummy groupadd; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_PATH_GROUPADD_PROG+:} false; then :
+if test "${ac_cv_path_PATH_GROUPADD_PROG+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $PATH_GROUPADD_PROG in
@@ -5109,7 +5101,7 @@
 set dummy useradd; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_PATH_USERADD_PROG+:} false; then :
+if test "${ac_cv_path_PATH_USERADD_PROG+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $PATH_USERADD_PROG in
@@ -5150,7 +5142,7 @@
 set dummy pkgmk; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_prog_MAKE_PACKAGE_SUPPORTED+:} false; then :
+if test "${ac_cv_prog_MAKE_PACKAGE_SUPPORTED+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if test -n "$MAKE_PACKAGE_SUPPORTED"; then
@@ -5202,7 +5194,7 @@
 
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for special C compiler options needed for large files" >&5
 $as_echo_n "checking for special C compiler options needed for large files... " >&6; }
-if ${ac_cv_sys_largefile_CC+:} false; then :
+if test "${ac_cv_sys_largefile_CC+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_cv_sys_largefile_CC=no
@@ -5253,7 +5245,7 @@
 
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for _FILE_OFFSET_BITS value needed for large files" >&5
 $as_echo_n "checking for _FILE_OFFSET_BITS value needed for large files... " >&6; }
-if ${ac_cv_sys_file_offset_bits+:} false; then :
+if test "${ac_cv_sys_file_offset_bits+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   while :; do
@@ -5322,7 +5314,7 @@
   if test $ac_cv_sys_file_offset_bits = unknown; then
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking for _LARGE_FILES value needed for large files" >&5
 $as_echo_n "checking for _LARGE_FILES value needed for large files... " >&6; }
-if ${ac_cv_sys_large_files+:} false; then :
+if test "${ac_cv_sys_large_files+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   while :; do
@@ -5409,7 +5401,7 @@
 set dummy login; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_LOGIN_PROGRAM_FALLBACK+:} false; then :
+if test "${ac_cv_path_LOGIN_PROGRAM_FALLBACK+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $LOGIN_PROGRAM_FALLBACK in
@@ -5457,7 +5449,7 @@
 set dummy passwd; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_PATH_PASSWD_PROG+:} false; then :
+if test "${ac_cv_path_PATH_PASSWD_PROG+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $PATH_PASSWD_PROG in
@@ -5508,7 +5500,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for inline" >&5
 $as_echo_n "checking for inline... " >&6; }
-if ${ac_cv_c_inline+:} false; then :
+if test "${ac_cv_c_inline+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_cv_c_inline=no
@@ -5551,7 +5543,7 @@
 
 ac_fn_c_check_decl "$LINENO" "LLONG_MAX" "ac_cv_have_decl_LLONG_MAX" "#include <limits.h>
 "
-if test "x$ac_cv_have_decl_LLONG_MAX" = xyes; then :
+if test "x$ac_cv_have_decl_LLONG_MAX" = x""yes; then :
   have_llong_max=1
 fi
 
@@ -5561,7 +5553,7 @@
 	#include <dev/systrace.h>
 
 "
-if test "x$ac_cv_have_decl_SYSTR_POLICY_KILL" = xyes; then :
+if test "x$ac_cv_have_decl_SYSTR_POLICY_KILL" = x""yes; then :
   have_systr_policy_kill=1
 fi
 
@@ -5570,7 +5562,7 @@
 	#include <sys/resource.h>
 
 "
-if test "x$ac_cv_have_decl_RLIMIT_NPROC" = xyes; then :
+if test "x$ac_cv_have_decl_RLIMIT_NPROC" = x""yes; then :
 
 $as_echo "#define HAVE_RLIMIT_NPROC /**/" >>confdefs.h
 
@@ -5900,7 +5892,7 @@
 		ac_fn_c_check_decl "$LINENO" "LLONG_MAX" "ac_cv_have_decl_LLONG_MAX" "#include <limits.h>
 
 "
-if test "x$ac_cv_have_decl_LLONG_MAX" = xyes; then :
+if test "x$ac_cv_have_decl_LLONG_MAX" = x""yes; then :
   have_llong_max=1
 else
   CFLAGS="$saved_CFLAGS"
@@ -6081,7 +6073,7 @@
 #endif
 
 "
-if test "x$ac_cv_header_lastlog_h" = xyes; then :
+if test "x$ac_cv_header_lastlog_h" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LASTLOG_H 1
 _ACEOF
@@ -6100,7 +6092,7 @@
 #endif
 
 "
-if test "x$ac_cv_header_sys_ptms_h" = xyes; then :
+if test "x$ac_cv_header_sys_ptms_h" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_SYS_PTMS_H 1
 _ACEOF
@@ -6117,7 +6109,7 @@
 #include <sys/types.h>
 
 "
-if test "x$ac_cv_header_login_cap_h" = xyes; then :
+if test "x$ac_cv_header_login_cap_h" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LOGIN_CAP_H 1
 _ACEOF
@@ -6134,7 +6126,7 @@
 #include <sys/param.h>
 
 "
-if test "x$ac_cv_header_sys_mount_h" = xyes; then :
+if test "x$ac_cv_header_sys_mount_h" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_SYS_MOUNT_H 1
 _ACEOF
@@ -6229,14 +6221,14 @@
 	fi
 	LDFLAGS="$saved_LDFLAGS"
 		ac_fn_c_check_func "$LINENO" "authenticate" "ac_cv_func_authenticate"
-if test "x$ac_cv_func_authenticate" = xyes; then :
+if test "x$ac_cv_func_authenticate" = x""yes; then :
 
 $as_echo "#define WITH_AIXAUTHENTICATE 1" >>confdefs.h
 
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for authenticate in -ls" >&5
 $as_echo_n "checking for authenticate in -ls... " >&6; }
-if ${ac_cv_lib_s_authenticate+:} false; then :
+if test "${ac_cv_lib_s_authenticate+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -6270,7 +6262,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_s_authenticate" >&5
 $as_echo "$ac_cv_lib_s_authenticate" >&6; }
-if test "x$ac_cv_lib_s_authenticate" = xyes; then :
+if test "x$ac_cv_lib_s_authenticate" = x""yes; then :
    $as_echo "#define WITH_AIXAUTHENTICATE 1" >>confdefs.h
 
 				LIBS="$LIBS -ls"
@@ -6282,7 +6274,7 @@
 
 		ac_fn_c_check_decl "$LINENO" "authenticate" "ac_cv_have_decl_authenticate" "#include <usersec.h>
 "
-if test "x$ac_cv_have_decl_authenticate" = xyes; then :
+if test "x$ac_cv_have_decl_authenticate" = x""yes; then :
   ac_have_decl=1
 else
   ac_have_decl=0
@@ -6293,7 +6285,7 @@
 _ACEOF
 ac_fn_c_check_decl "$LINENO" "loginrestrictions" "ac_cv_have_decl_loginrestrictions" "#include <usersec.h>
 "
-if test "x$ac_cv_have_decl_loginrestrictions" = xyes; then :
+if test "x$ac_cv_have_decl_loginrestrictions" = x""yes; then :
   ac_have_decl=1
 else
   ac_have_decl=0
@@ -6304,7 +6296,7 @@
 _ACEOF
 ac_fn_c_check_decl "$LINENO" "loginsuccess" "ac_cv_have_decl_loginsuccess" "#include <usersec.h>
 "
-if test "x$ac_cv_have_decl_loginsuccess" = xyes; then :
+if test "x$ac_cv_have_decl_loginsuccess" = x""yes; then :
   ac_have_decl=1
 else
   ac_have_decl=0
@@ -6315,7 +6307,7 @@
 _ACEOF
 ac_fn_c_check_decl "$LINENO" "passwdexpired" "ac_cv_have_decl_passwdexpired" "#include <usersec.h>
 "
-if test "x$ac_cv_have_decl_passwdexpired" = xyes; then :
+if test "x$ac_cv_have_decl_passwdexpired" = x""yes; then :
   ac_have_decl=1
 else
   ac_have_decl=0
@@ -6326,7 +6318,7 @@
 _ACEOF
 ac_fn_c_check_decl "$LINENO" "setauthdb" "ac_cv_have_decl_setauthdb" "#include <usersec.h>
 "
-if test "x$ac_cv_have_decl_setauthdb" = xyes; then :
+if test "x$ac_cv_have_decl_setauthdb" = x""yes; then :
   ac_have_decl=1
 else
   ac_have_decl=0
@@ -6339,7 +6331,7 @@
 		ac_fn_c_check_decl "$LINENO" "loginfailed" "ac_cv_have_decl_loginfailed" "#include <usersec.h>
 
 "
-if test "x$ac_cv_have_decl_loginfailed" = xyes; then :
+if test "x$ac_cv_have_decl_loginfailed" = x""yes; then :
   ac_have_decl=1
 else
   ac_have_decl=0
@@ -6392,7 +6384,7 @@
 	      #include <fcntl.h>
 
 "
-if test "x$ac_cv_have_decl_F_CLOSEM" = xyes; then :
+if test "x$ac_cv_have_decl_F_CLOSEM" = x""yes; then :
 
 $as_echo "#define HAVE_FCNTL_CLOSEM 1" >>confdefs.h
 
@@ -6580,7 +6572,7 @@
 rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 
 	ac_fn_c_check_decl "$LINENO" "AU_IPv4" "ac_cv_have_decl_AU_IPv4" "$ac_includes_default"
-if test "x$ac_cv_have_decl_AU_IPv4" = xyes; then :
+if test "x$ac_cv_have_decl_AU_IPv4" = x""yes; then :
 
 else
 
@@ -6599,7 +6591,7 @@
 	for ac_func in sandbox_init
 do :
   ac_fn_c_check_func "$LINENO" "sandbox_init" "ac_cv_func_sandbox_init"
-if test "x$ac_cv_func_sandbox_init" = xyes; then :
+if test "x$ac_cv_func_sandbox_init" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_SANDBOX_INIT 1
 _ACEOF
@@ -6610,7 +6602,7 @@
 	for ac_header in sandbox.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "sandbox.h" "ac_cv_header_sandbox_h" "$ac_includes_default"
-if test "x$ac_cv_header_sandbox_h" = xyes; then :
+if test "x$ac_cv_header_sandbox_h" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_SANDBOX_H 1
 _ACEOF
@@ -6627,7 +6619,7 @@
     LIBS="$LIBS -lbsd "
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking for socket in -lnetwork" >&5
 $as_echo_n "checking for socket in -lnetwork... " >&6; }
-if ${ac_cv_lib_network_socket+:} false; then :
+if test "${ac_cv_lib_network_socket+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -6661,7 +6653,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_network_socket" >&5
 $as_echo "$ac_cv_lib_network_socket" >&6; }
-if test "x$ac_cv_lib_network_socket" = xyes; then :
+if test "x$ac_cv_lib_network_socket" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBNETWORK 1
 _ACEOF
@@ -6694,7 +6686,7 @@
 	LIBS="$LIBS -lsec"
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for t_error in -lxnet" >&5
 $as_echo_n "checking for t_error in -lxnet... " >&6; }
-if ${ac_cv_lib_xnet_t_error+:} false; then :
+if test "${ac_cv_lib_xnet_t_error+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -6728,7 +6720,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_xnet_t_error" >&5
 $as_echo "$ac_cv_lib_xnet_t_error" >&6; }
-if test "x$ac_cv_lib_xnet_t_error" = xyes; then :
+if test "x$ac_cv_lib_xnet_t_error" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBXNET 1
 _ACEOF
@@ -6802,7 +6794,7 @@
 $as_echo "#define WITH_IRIX_AUDIT 1" >>confdefs.h
 
 	ac_fn_c_check_func "$LINENO" "jlimit_startjob" "ac_cv_func_jlimit_startjob"
-if test "x$ac_cv_func_jlimit_startjob" = xyes; then :
+if test "x$ac_cv_func_jlimit_startjob" = x""yes; then :
 
 $as_echo "#define WITH_IRIX_JOBS 1" >>confdefs.h
 
@@ -6874,7 +6866,7 @@
 	for ac_header in linux/if_tun.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "linux/if_tun.h" "ac_cv_header_linux_if_tun_h" "$ac_includes_default"
-if test "x$ac_cv_header_linux_if_tun_h" = xyes; then :
+if test "x$ac_cv_header_linux_if_tun_h" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LINUX_IF_TUN_H 1
 _ACEOF
@@ -6910,7 +6902,7 @@
 $as_echo "#define SSH_TUN_FREEBSD 1" >>confdefs.h
 
 	ac_fn_c_check_header_mongrel "$LINENO" "net/if_tap.h" "ac_cv_header_net_if_tap_h" "$ac_includes_default"
-if test "x$ac_cv_header_net_if_tap_h" = xyes; then :
+if test "x$ac_cv_header_net_if_tap_h" = x""yes; then :
 
 else
 
@@ -6932,7 +6924,7 @@
 $as_echo "#define SSH_TUN_FREEBSD 1" >>confdefs.h
 
 	ac_fn_c_check_header_mongrel "$LINENO" "net/if_tap.h" "ac_cv_header_net_if_tap_h" "$ac_includes_default"
-if test "x$ac_cv_header_net_if_tap_h" = xyes; then :
+if test "x$ac_cv_header_net_if_tap_h" = x""yes; then :
 
 else
 
@@ -7035,7 +7027,7 @@
   withval=$with_solaris_contracts;
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ct_tmpl_activate in -lcontract" >&5
 $as_echo_n "checking for ct_tmpl_activate in -lcontract... " >&6; }
-if ${ac_cv_lib_contract_ct_tmpl_activate+:} false; then :
+if test "${ac_cv_lib_contract_ct_tmpl_activate+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -7069,7 +7061,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_contract_ct_tmpl_activate" >&5
 $as_echo "$ac_cv_lib_contract_ct_tmpl_activate" >&6; }
-if test "x$ac_cv_lib_contract_ct_tmpl_activate" = xyes; then :
+if test "x$ac_cv_lib_contract_ct_tmpl_activate" = x""yes; then :
 
 $as_echo "#define USE_SOLARIS_PROCESS_CONTRACTS 1" >>confdefs.h
 
@@ -7086,7 +7078,7 @@
   withval=$with_solaris_projects;
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for setproject in -lproject" >&5
 $as_echo_n "checking for setproject in -lproject... " >&6; }
-if ${ac_cv_lib_project_setproject+:} false; then :
+if test "${ac_cv_lib_project_setproject+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -7120,7 +7112,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_project_setproject" >&5
 $as_echo "$ac_cv_lib_project_setproject" >&6; }
-if test "x$ac_cv_lib_project_setproject" = xyes; then :
+if test "x$ac_cv_lib_project_setproject" = x""yes; then :
 
 $as_echo "#define USE_SOLARIS_PROJECTS 1" >>confdefs.h
 
@@ -7137,7 +7129,7 @@
 	for ac_func in getpwanam
 do :
   ac_fn_c_check_func "$LINENO" "getpwanam" "ac_cv_func_getpwanam"
-if test "x$ac_cv_func_getpwanam" = xyes; then :
+if test "x$ac_cv_func_getpwanam" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_GETPWANAM 1
 _ACEOF
@@ -7170,7 +7162,7 @@
 	# /usr/ucblib MUST NOT be searched on ReliantUNIX
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for dlsym in -ldl" >&5
 $as_echo_n "checking for dlsym in -ldl... " >&6; }
-if ${ac_cv_lib_dl_dlsym+:} false; then :
+if test "${ac_cv_lib_dl_dlsym+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -7204,7 +7196,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dl_dlsym" >&5
 $as_echo "$ac_cv_lib_dl_dlsym" >&6; }
-if test "x$ac_cv_lib_dl_dlsym" = xyes; then :
+if test "x$ac_cv_lib_dl_dlsym" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBDL 1
 _ACEOF
@@ -7216,7 +7208,7 @@
 	# -lresolv needs to be at the end of LIBS or DNS lookups break
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for res_query in -lresolv" >&5
 $as_echo_n "checking for res_query in -lresolv... " >&6; }
-if ${ac_cv_lib_resolv_res_query+:} false; then :
+if test "${ac_cv_lib_resolv_res_query+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -7250,7 +7242,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_resolv_res_query" >&5
 $as_echo "$ac_cv_lib_resolv_res_query" >&6; }
-if test "x$ac_cv_lib_resolv_res_query" = xyes; then :
+if test "x$ac_cv_lib_resolv_res_query" = x""yes; then :
    LIBS="$LIBS -lresolv"
 fi
 
@@ -7317,7 +7309,7 @@
 
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for getluid in -lprot" >&5
 $as_echo_n "checking for getluid in -lprot... " >&6; }
-if ${ac_cv_lib_prot_getluid+:} false; then :
+if test "${ac_cv_lib_prot_getluid+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -7351,7 +7343,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_prot_getluid" >&5
 $as_echo "$ac_cv_lib_prot_getluid" >&6; }
-if test "x$ac_cv_lib_prot_getluid" = xyes; then :
+if test "x$ac_cv_lib_prot_getluid" = x""yes; then :
    LIBS="$LIBS -lprot"
 			for ac_func in getluid setluid
 do :
@@ -7621,12 +7613,12 @@
 
 # Checks for libraries.
 ac_fn_c_check_func "$LINENO" "yp_match" "ac_cv_func_yp_match"
-if test "x$ac_cv_func_yp_match" = xyes; then :
+if test "x$ac_cv_func_yp_match" = x""yes; then :
 
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for yp_match in -lnsl" >&5
 $as_echo_n "checking for yp_match in -lnsl... " >&6; }
-if ${ac_cv_lib_nsl_yp_match+:} false; then :
+if test "${ac_cv_lib_nsl_yp_match+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -7660,7 +7652,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_nsl_yp_match" >&5
 $as_echo "$ac_cv_lib_nsl_yp_match" >&6; }
-if test "x$ac_cv_lib_nsl_yp_match" = xyes; then :
+if test "x$ac_cv_lib_nsl_yp_match" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBNSL 1
 _ACEOF
@@ -7672,12 +7664,12 @@
 fi
 
 ac_fn_c_check_func "$LINENO" "setsockopt" "ac_cv_func_setsockopt"
-if test "x$ac_cv_func_setsockopt" = xyes; then :
+if test "x$ac_cv_func_setsockopt" = x""yes; then :
 
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for setsockopt in -lsocket" >&5
 $as_echo_n "checking for setsockopt in -lsocket... " >&6; }
-if ${ac_cv_lib_socket_setsockopt+:} false; then :
+if test "${ac_cv_lib_socket_setsockopt+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -7711,7 +7703,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_socket_setsockopt" >&5
 $as_echo "$ac_cv_lib_socket_setsockopt" >&6; }
-if test "x$ac_cv_lib_socket_setsockopt" = xyes; then :
+if test "x$ac_cv_lib_socket_setsockopt" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBSOCKET 1
 _ACEOF
@@ -7726,14 +7718,14 @@
 for ac_func in dirname
 do :
   ac_fn_c_check_func "$LINENO" "dirname" "ac_cv_func_dirname"
-if test "x$ac_cv_func_dirname" = xyes; then :
+if test "x$ac_cv_func_dirname" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_DIRNAME 1
 _ACEOF
  for ac_header in libgen.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "libgen.h" "ac_cv_header_libgen_h" "$ac_includes_default"
-if test "x$ac_cv_header_libgen_h" = xyes; then :
+if test "x$ac_cv_header_libgen_h" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBGEN_H 1
 _ACEOF
@@ -7746,7 +7738,7 @@
 
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for dirname in -lgen" >&5
 $as_echo_n "checking for dirname in -lgen... " >&6; }
-if ${ac_cv_lib_gen_dirname+:} false; then :
+if test "${ac_cv_lib_gen_dirname+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -7780,11 +7772,11 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gen_dirname" >&5
 $as_echo "$ac_cv_lib_gen_dirname" >&6; }
-if test "x$ac_cv_lib_gen_dirname" = xyes; then :
+if test "x$ac_cv_lib_gen_dirname" = x""yes; then :
 
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for broken dirname" >&5
 $as_echo_n "checking for broken dirname... " >&6; }
-if ${ac_cv_have_broken_dirname+:} false; then :
+if test "${ac_cv_have_broken_dirname+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -7833,7 +7825,7 @@
 			for ac_header in libgen.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "libgen.h" "ac_cv_header_libgen_h" "$ac_includes_default"
-if test "x$ac_cv_header_libgen_h" = xyes; then :
+if test "x$ac_cv_header_libgen_h" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBGEN_H 1
 _ACEOF
@@ -7852,12 +7844,12 @@
 
 
 ac_fn_c_check_func "$LINENO" "getspnam" "ac_cv_func_getspnam"
-if test "x$ac_cv_func_getspnam" = xyes; then :
+if test "x$ac_cv_func_getspnam" = x""yes; then :
 
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for getspnam in -lgen" >&5
 $as_echo_n "checking for getspnam in -lgen... " >&6; }
-if ${ac_cv_lib_gen_getspnam+:} false; then :
+if test "${ac_cv_lib_gen_getspnam+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -7891,7 +7883,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gen_getspnam" >&5
 $as_echo "$ac_cv_lib_gen_getspnam" >&6; }
-if test "x$ac_cv_lib_gen_getspnam" = xyes; then :
+if test "x$ac_cv_lib_gen_getspnam" = x""yes; then :
   LIBS="$LIBS -lgen"
 fi
 
@@ -7899,7 +7891,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing basename" >&5
 $as_echo_n "checking for library containing basename... " >&6; }
-if ${ac_cv_search_basename+:} false; then :
+if test "${ac_cv_search_basename+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_func_search_save_LIBS=$LIBS
@@ -7933,11 +7925,11 @@
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext
-  if ${ac_cv_search_basename+:} false; then :
+  if test "${ac_cv_search_basename+set}" = set; then :
   break
 fi
 done
-if ${ac_cv_search_basename+:} false; then :
+if test "${ac_cv_search_basename+set}" = set; then :
 
 else
   ac_cv_search_basename=no
@@ -7986,7 +7978,7 @@
 
 
 ac_fn_c_check_header_mongrel "$LINENO" "zlib.h" "ac_cv_header_zlib_h" "$ac_includes_default"
-if test "x$ac_cv_header_zlib_h" = xyes; then :
+if test "x$ac_cv_header_zlib_h" = x""yes; then :
 
 else
   as_fn_error $? "*** zlib.h missing - please install first or check config.log ***" "$LINENO" 5
@@ -7995,7 +7987,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for deflate in -lz" >&5
 $as_echo_n "checking for deflate in -lz... " >&6; }
-if ${ac_cv_lib_z_deflate+:} false; then :
+if test "${ac_cv_lib_z_deflate+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -8029,7 +8021,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_z_deflate" >&5
 $as_echo "$ac_cv_lib_z_deflate" >&6; }
-if test "x$ac_cv_lib_z_deflate" = xyes; then :
+if test "x$ac_cv_lib_z_deflate" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBZ 1
 _ACEOF
@@ -8157,12 +8149,12 @@
 
 
 ac_fn_c_check_func "$LINENO" "strcasecmp" "ac_cv_func_strcasecmp"
-if test "x$ac_cv_func_strcasecmp" = xyes; then :
+if test "x$ac_cv_func_strcasecmp" = x""yes; then :
 
 else
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for strcasecmp in -lresolv" >&5
 $as_echo_n "checking for strcasecmp in -lresolv... " >&6; }
-if ${ac_cv_lib_resolv_strcasecmp+:} false; then :
+if test "${ac_cv_lib_resolv_strcasecmp+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -8196,7 +8188,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_resolv_strcasecmp" >&5
 $as_echo "$ac_cv_lib_resolv_strcasecmp" >&6; }
-if test "x$ac_cv_lib_resolv_strcasecmp" = xyes; then :
+if test "x$ac_cv_lib_resolv_strcasecmp" = x""yes; then :
   LIBS="$LIBS -lresolv"
 fi
 
@@ -8206,7 +8198,7 @@
 for ac_func in utimes
 do :
   ac_fn_c_check_func "$LINENO" "utimes" "ac_cv_func_utimes"
-if test "x$ac_cv_func_utimes" = xyes; then :
+if test "x$ac_cv_func_utimes" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_UTIMES 1
 _ACEOF
@@ -8214,7 +8206,7 @@
 else
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for utimes in -lc89" >&5
 $as_echo_n "checking for utimes in -lc89... " >&6; }
-if ${ac_cv_lib_c89_utimes+:} false; then :
+if test "${ac_cv_lib_c89_utimes+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -8248,7 +8240,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_c89_utimes" >&5
 $as_echo "$ac_cv_lib_c89_utimes" >&6; }
-if test "x$ac_cv_lib_c89_utimes" = xyes; then :
+if test "x$ac_cv_lib_c89_utimes" = x""yes; then :
   $as_echo "#define HAVE_UTIMES 1" >>confdefs.h
 
 					LIBS="$LIBS -lc89"
@@ -8262,7 +8254,7 @@
 for ac_header in libutil.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "libutil.h" "ac_cv_header_libutil_h" "$ac_includes_default"
-if test "x$ac_cv_header_libutil_h" = xyes; then :
+if test "x$ac_cv_header_libutil_h" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBUTIL_H 1
 _ACEOF
@@ -8273,7 +8265,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing login" >&5
 $as_echo_n "checking for library containing login... " >&6; }
-if ${ac_cv_search_login+:} false; then :
+if test "${ac_cv_search_login+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_func_search_save_LIBS=$LIBS
@@ -8307,11 +8299,11 @@
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext
-  if ${ac_cv_search_login+:} false; then :
+  if test "${ac_cv_search_login+set}" = set; then :
   break
 fi
 done
-if ${ac_cv_search_login+:} false; then :
+if test "${ac_cv_search_login+set}" = set; then :
 
 else
   ac_cv_search_login=no
@@ -8345,7 +8337,7 @@
 for ac_func in strftime
 do :
   ac_fn_c_check_func "$LINENO" "strftime" "ac_cv_func_strftime"
-if test "x$ac_cv_func_strftime" = xyes; then :
+if test "x$ac_cv_func_strftime" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_STRFTIME 1
 _ACEOF
@@ -8354,7 +8346,7 @@
   # strftime is in -lintl on SCO UNIX.
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for strftime in -lintl" >&5
 $as_echo_n "checking for strftime in -lintl... " >&6; }
-if ${ac_cv_lib_intl_strftime+:} false; then :
+if test "${ac_cv_lib_intl_strftime+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -8388,7 +8380,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_intl_strftime" >&5
 $as_echo "$ac_cv_lib_intl_strftime" >&6; }
-if test "x$ac_cv_lib_intl_strftime" = xyes; then :
+if test "x$ac_cv_lib_intl_strftime" = x""yes; then :
   $as_echo "#define HAVE_STRFTIME 1" >>confdefs.h
 
 LIBS="-lintl $LIBS"
@@ -8498,7 +8490,7 @@
 
 ac_fn_c_check_decl "$LINENO" "GLOB_NOMATCH" "ac_cv_have_decl_GLOB_NOMATCH" "#include <glob.h>
 "
-if test "x$ac_cv_have_decl_GLOB_NOMATCH" = xyes; then :
+if test "x$ac_cv_have_decl_GLOB_NOMATCH" = x""yes; then :
   ac_have_decl=1
 else
   ac_have_decl=0
@@ -8743,7 +8735,7 @@
 set dummy pkg-config; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_PKGCONFIG+:} false; then :
+if test "${ac_cv_path_PKGCONFIG+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $PKGCONFIG in
@@ -8809,7 +8801,7 @@
 		OTHERLIBS=`echo $LIBEDIT | sed 's/-ledit//'`
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for el_init in -ledit" >&5
 $as_echo_n "checking for el_init in -ledit... " >&6; }
-if ${ac_cv_lib_edit_el_init+:} false; then :
+if test "${ac_cv_lib_edit_el_init+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -8844,7 +8836,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_edit_el_init" >&5
 $as_echo "$ac_cv_lib_edit_el_init" >&6; }
-if test "x$ac_cv_lib_edit_el_init" = xyes; then :
+if test "x$ac_cv_lib_edit_el_init" = x""yes; then :
 
 $as_echo "#define USE_LIBEDIT 1" >>confdefs.h
 
@@ -8908,7 +8900,7 @@
 
 
 "
-if test "x$ac_cv_header_bsm_audit_h" = xyes; then :
+if test "x$ac_cv_header_bsm_audit_h" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_BSM_AUDIT_H 1
 _ACEOF
@@ -8921,7 +8913,7 @@
 
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for getaudit in -lbsm" >&5
 $as_echo_n "checking for getaudit in -lbsm... " >&6; }
-if ${ac_cv_lib_bsm_getaudit+:} false; then :
+if test "${ac_cv_lib_bsm_getaudit+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -8955,7 +8947,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_bsm_getaudit" >&5
 $as_echo "$ac_cv_lib_bsm_getaudit" >&6; }
-if test "x$ac_cv_lib_bsm_getaudit" = xyes; then :
+if test "x$ac_cv_lib_bsm_getaudit" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBBSM 1
 _ACEOF
@@ -8969,7 +8961,7 @@
 		for ac_func in getaudit
 do :
   ac_fn_c_check_func "$LINENO" "getaudit" "ac_cv_func_getaudit"
-if test "x$ac_cv_func_getaudit" = xyes; then :
+if test "x$ac_cv_func_getaudit" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_GETAUDIT 1
 _ACEOF
@@ -9003,7 +8995,7 @@
 				for ac_header in libaudit.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "libaudit.h" "ac_cv_header_libaudit_h" "$ac_includes_default"
-if test "x$ac_cv_header_libaudit_h" = xyes; then :
+if test "x$ac_cv_header_libaudit_h" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBAUDIT_H 1
 _ACEOF
@@ -9169,7 +9161,7 @@
 # PKCS#11 support requires dlopen() and co
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing dlopen" >&5
 $as_echo_n "checking for library containing dlopen... " >&6; }
-if ${ac_cv_search_dlopen+:} false; then :
+if test "${ac_cv_search_dlopen+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_func_search_save_LIBS=$LIBS
@@ -9203,11 +9195,11 @@
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext
-  if ${ac_cv_search_dlopen+:} false; then :
+  if test "${ac_cv_search_dlopen+set}" = set; then :
   break
 fi
 done
-if ${ac_cv_search_dlopen+:} false; then :
+if test "${ac_cv_search_dlopen+set}" = set; then :
 
 else
   ac_cv_search_dlopen=no
@@ -9231,7 +9223,7 @@
 for ac_func in gai_strerror
 do :
   ac_fn_c_check_func "$LINENO" "gai_strerror" "ac_cv_func_gai_strerror"
-if test "x$ac_cv_func_gai_strerror" = xyes; then :
+if test "x$ac_cv_func_gai_strerror" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_GAI_STRERROR 1
 _ACEOF
@@ -9271,7 +9263,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing nanosleep" >&5
 $as_echo_n "checking for library containing nanosleep... " >&6; }
-if ${ac_cv_search_nanosleep+:} false; then :
+if test "${ac_cv_search_nanosleep+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_func_search_save_LIBS=$LIBS
@@ -9305,11 +9297,11 @@
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext
-  if ${ac_cv_search_nanosleep+:} false; then :
+  if test "${ac_cv_search_nanosleep+set}" = set; then :
   break
 fi
 done
-if ${ac_cv_search_nanosleep+:} false; then :
+if test "${ac_cv_search_nanosleep+set}" = set; then :
 
 else
   ac_cv_search_nanosleep=no
@@ -9329,11 +9321,11 @@
 
 
 ac_fn_c_check_decl "$LINENO" "getrusage" "ac_cv_have_decl_getrusage" "$ac_includes_default"
-if test "x$ac_cv_have_decl_getrusage" = xyes; then :
+if test "x$ac_cv_have_decl_getrusage" = x""yes; then :
   for ac_func in getrusage
 do :
   ac_fn_c_check_func "$LINENO" "getrusage" "ac_cv_func_getrusage"
-if test "x$ac_cv_func_getrusage" = xyes; then :
+if test "x$ac_cv_func_getrusage" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_GETRUSAGE 1
 _ACEOF
@@ -9349,11 +9341,11 @@
 #endif
 
 "
-if test "x$ac_cv_have_decl_strsep" = xyes; then :
+if test "x$ac_cv_have_decl_strsep" = x""yes; then :
   for ac_func in strsep
 do :
   ac_fn_c_check_func "$LINENO" "strsep" "ac_cv_func_strsep"
-if test "x$ac_cv_func_strsep" = xyes; then :
+if test "x$ac_cv_func_strsep" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_STRSEP 1
 _ACEOF
@@ -9367,14 +9359,14 @@
 ac_fn_c_check_decl "$LINENO" "tcsendbreak" "ac_cv_have_decl_tcsendbreak" "#include <termios.h>
 
 "
-if test "x$ac_cv_have_decl_tcsendbreak" = xyes; then :
+if test "x$ac_cv_have_decl_tcsendbreak" = x""yes; then :
   $as_echo "#define HAVE_TCSENDBREAK 1" >>confdefs.h
 
 else
   for ac_func in tcsendbreak
 do :
   ac_fn_c_check_func "$LINENO" "tcsendbreak" "ac_cv_func_tcsendbreak"
-if test "x$ac_cv_func_tcsendbreak" = xyes; then :
+if test "x$ac_cv_func_tcsendbreak" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_TCSENDBREAK 1
 _ACEOF
@@ -9387,7 +9379,7 @@
 
 ac_fn_c_check_decl "$LINENO" "h_errno" "ac_cv_have_decl_h_errno" "#include <netdb.h>
 "
-if test "x$ac_cv_have_decl_h_errno" = xyes; then :
+if test "x$ac_cv_have_decl_h_errno" = x""yes; then :
   ac_have_decl=1
 else
   ac_have_decl=0
@@ -9403,7 +9395,7 @@
 #include <sys/socket.h>
 
 "
-if test "x$ac_cv_have_decl_SHUT_RD" = xyes; then :
+if test "x$ac_cv_have_decl_SHUT_RD" = x""yes; then :
   ac_have_decl=1
 else
   ac_have_decl=0
@@ -9424,7 +9416,7 @@
 #endif
 
 "
-if test "x$ac_cv_have_decl_O_NONBLOCK" = xyes; then :
+if test "x$ac_cv_have_decl_O_NONBLOCK" = x""yes; then :
   ac_have_decl=1
 else
   ac_have_decl=0
@@ -9441,7 +9433,7 @@
 #include <unistd.h>
 
 "
-if test "x$ac_cv_have_decl_writev" = xyes; then :
+if test "x$ac_cv_have_decl_writev" = x""yes; then :
   ac_have_decl=1
 else
   ac_have_decl=0
@@ -9456,7 +9448,7 @@
 #include <sys/param.h>
 
 "
-if test "x$ac_cv_have_decl_MAXSYMLINKS" = xyes; then :
+if test "x$ac_cv_have_decl_MAXSYMLINKS" = x""yes; then :
   ac_have_decl=1
 else
   ac_have_decl=0
@@ -9471,7 +9463,7 @@
 #include <stddef.h>
 
 "
-if test "x$ac_cv_have_decl_offsetof" = xyes; then :
+if test "x$ac_cv_have_decl_offsetof" = x""yes; then :
   ac_have_decl=1
 else
   ac_have_decl=0
@@ -9485,7 +9477,7 @@
 for ac_func in setresuid
 do :
   ac_fn_c_check_func "$LINENO" "setresuid" "ac_cv_func_setresuid"
-if test "x$ac_cv_func_setresuid" = xyes; then :
+if test "x$ac_cv_func_setresuid" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_SETRESUID 1
 _ACEOF
@@ -9540,7 +9532,7 @@
 for ac_func in setresgid
 do :
   ac_fn_c_check_func "$LINENO" "setresgid" "ac_cv_func_setresgid"
-if test "x$ac_cv_func_setresgid" = xyes; then :
+if test "x$ac_cv_func_setresgid" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_SETRESGID 1
 _ACEOF
@@ -9619,7 +9611,7 @@
 for ac_func in utmpname
 do :
   ac_fn_c_check_func "$LINENO" "utmpname" "ac_cv_func_utmpname"
-if test "x$ac_cv_func_utmpname" = xyes; then :
+if test "x$ac_cv_func_utmpname" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_UTMPNAME 1
 _ACEOF
@@ -9654,7 +9646,7 @@
 for ac_func in getlastlogxbyname
 do :
   ac_fn_c_check_func "$LINENO" "getlastlogxbyname" "ac_cv_func_getlastlogxbyname"
-if test "x$ac_cv_func_getlastlogxbyname" = xyes; then :
+if test "x$ac_cv_func_getlastlogxbyname" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_GETLASTLOGXBYNAME 1
 _ACEOF
@@ -9664,14 +9656,14 @@
 
 
 ac_fn_c_check_func "$LINENO" "daemon" "ac_cv_func_daemon"
-if test "x$ac_cv_func_daemon" = xyes; then :
+if test "x$ac_cv_func_daemon" = x""yes; then :
 
 $as_echo "#define HAVE_DAEMON 1" >>confdefs.h
 
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for daemon in -lbsd" >&5
 $as_echo_n "checking for daemon in -lbsd... " >&6; }
-if ${ac_cv_lib_bsd_daemon+:} false; then :
+if test "${ac_cv_lib_bsd_daemon+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -9705,7 +9697,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_bsd_daemon" >&5
 $as_echo "$ac_cv_lib_bsd_daemon" >&6; }
-if test "x$ac_cv_lib_bsd_daemon" = xyes; then :
+if test "x$ac_cv_lib_bsd_daemon" = x""yes; then :
   LIBS="$LIBS -lbsd"; $as_echo "#define HAVE_DAEMON 1" >>confdefs.h
 
 fi
@@ -9715,14 +9707,14 @@
 
 
 ac_fn_c_check_func "$LINENO" "getpagesize" "ac_cv_func_getpagesize"
-if test "x$ac_cv_func_getpagesize" = xyes; then :
+if test "x$ac_cv_func_getpagesize" = x""yes; then :
 
 $as_echo "#define HAVE_GETPAGESIZE 1" >>confdefs.h
 
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for getpagesize in -lucb" >&5
 $as_echo_n "checking for getpagesize in -lucb... " >&6; }
-if ${ac_cv_lib_ucb_getpagesize+:} false; then :
+if test "${ac_cv_lib_ucb_getpagesize+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -9756,7 +9748,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_ucb_getpagesize" >&5
 $as_echo "$ac_cv_lib_ucb_getpagesize" >&6; }
-if test "x$ac_cv_lib_ucb_getpagesize" = xyes; then :
+if test "x$ac_cv_lib_ucb_getpagesize" = x""yes; then :
   LIBS="$LIBS -lucb"; $as_echo "#define HAVE_GETPAGESIZE 1" >>confdefs.h
 
 fi
@@ -10261,7 +10253,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether getpgrp requires zero arguments" >&5
 $as_echo_n "checking whether getpgrp requires zero arguments... " >&6; }
-if ${ac_cv_func_getpgrp_void+:} false; then :
+if test "${ac_cv_func_getpgrp_void+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   # Use it with a single arg.
@@ -10366,7 +10358,7 @@
 		fi
 		CPPFLAGS="-I/usr/local/ssl/include ${saved_CPPFLAGS}"
 		ac_fn_c_check_header_mongrel "$LINENO" "openssl/opensslv.h" "ac_cv_header_openssl_opensslv_h" "$ac_includes_default"
-if test "x$ac_cv_header_openssl_opensslv_h" = xyes; then :
+if test "x$ac_cv_header_openssl_opensslv_h" = x""yes; then :
 
 else
   as_fn_error $? "*** OpenSSL headers missing - please install first or check config.log ***" "$LINENO" 5
@@ -10778,7 +10770,7 @@
 if test "x$check_for_libcrypt_before" = "x1"; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for crypt in -lcrypt" >&5
 $as_echo_n "checking for crypt in -lcrypt... " >&6; }
-if ${ac_cv_lib_crypt_crypt+:} false; then :
+if test "${ac_cv_lib_crypt_crypt+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -10812,7 +10804,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_crypt_crypt" >&5
 $as_echo "$ac_cv_lib_crypt_crypt" >&6; }
-if test "x$ac_cv_lib_crypt_crypt" = xyes; then :
+if test "x$ac_cv_lib_crypt_crypt" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBCRYPT 1
 _ACEOF
@@ -10828,7 +10820,7 @@
 if test "x$check_for_libcrypt_later" = "x1"; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for crypt in -lcrypt" >&5
 $as_echo_n "checking for crypt in -lcrypt... " >&6; }
-if ${ac_cv_lib_crypt_crypt+:} false; then :
+if test "${ac_cv_lib_crypt_crypt+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -10862,7 +10854,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_crypt_crypt" >&5
 $as_echo "$ac_cv_lib_crypt_crypt" >&6; }
-if test "x$ac_cv_lib_crypt_crypt" = xyes; then :
+if test "x$ac_cv_lib_crypt_crypt" = x""yes; then :
   LIBS="$LIBS -lcrypt"
 fi
 
@@ -10939,7 +10931,7 @@
 saved_LIBS="$LIBS"
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for ia_openinfo in -liaf" >&5
 $as_echo_n "checking for ia_openinfo in -liaf... " >&6; }
-if ${ac_cv_lib_iaf_ia_openinfo+:} false; then :
+if test "${ac_cv_lib_iaf_ia_openinfo+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -10973,13 +10965,13 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_iaf_ia_openinfo" >&5
 $as_echo "$ac_cv_lib_iaf_ia_openinfo" >&6; }
-if test "x$ac_cv_lib_iaf_ia_openinfo" = xyes; then :
+if test "x$ac_cv_lib_iaf_ia_openinfo" = x""yes; then :
 
 	LIBS="$LIBS -liaf"
 	for ac_func in set_id
 do :
   ac_fn_c_check_func "$LINENO" "set_id" "ac_cv_func_set_id"
-if test "x$ac_cv_func_set_id" = xyes; then :
+if test "x$ac_cv_func_set_id" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_SET_ID 1
 _ACEOF
@@ -11166,7 +11158,7 @@
 			saved_LIBS="$LIBS"
 			{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for dlopen in -ldl" >&5
 $as_echo_n "checking for dlopen in -ldl... " >&6; }
-if ${ac_cv_lib_dl_dlopen+:} false; then :
+if test "${ac_cv_lib_dl_dlopen+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -11200,7 +11192,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dl_dlopen" >&5
 $as_echo "$ac_cv_lib_dl_dlopen" >&6; }
-if test "x$ac_cv_lib_dl_dlopen" = xyes; then :
+if test "x$ac_cv_lib_dl_dlopen" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBDL 1
 _ACEOF
@@ -11211,7 +11203,7 @@
 
 			{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pam_set_item in -lpam" >&5
 $as_echo_n "checking for pam_set_item in -lpam... " >&6; }
-if ${ac_cv_lib_pam_pam_set_item+:} false; then :
+if test "${ac_cv_lib_pam_pam_set_item+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -11245,7 +11237,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_pam_pam_set_item" >&5
 $as_echo "$ac_cv_lib_pam_pam_set_item" >&6; }
-if test "x$ac_cv_lib_pam_pam_set_item" = xyes; then :
+if test "x$ac_cv_lib_pam_pam_set_item" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_LIBPAM 1
 _ACEOF
@@ -11259,7 +11251,7 @@
 			for ac_func in pam_getenvlist
 do :
   ac_fn_c_check_func "$LINENO" "pam_getenvlist" "ac_cv_func_pam_getenvlist"
-if test "x$ac_cv_func_pam_getenvlist" = xyes; then :
+if test "x$ac_cv_func_pam_getenvlist" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_PAM_GETENVLIST 1
 _ACEOF
@@ -11270,7 +11262,7 @@
 			for ac_func in pam_putenv
 do :
   ac_fn_c_check_func "$LINENO" "pam_putenv" "ac_cv_func_pam_putenv"
-if test "x$ac_cv_func_pam_putenv" = xyes; then :
+if test "x$ac_cv_func_pam_putenv" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_PAM_PUTENV 1
 _ACEOF
@@ -11423,7 +11415,7 @@
 
 # Check for  long long datatypes
 ac_fn_c_check_type "$LINENO" "long long" "ac_cv_type_long_long" "$ac_includes_default"
-if test "x$ac_cv_type_long_long" = xyes; then :
+if test "x$ac_cv_type_long_long" = x""yes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_LONG_LONG 1
@@ -11432,7 +11424,7 @@
 
 fi
 ac_fn_c_check_type "$LINENO" "unsigned long long" "ac_cv_type_unsigned_long_long" "$ac_includes_default"
-if test "x$ac_cv_type_unsigned_long_long" = xyes; then :
+if test "x$ac_cv_type_unsigned_long_long" = x""yes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_UNSIGNED_LONG_LONG 1
@@ -11441,7 +11433,7 @@
 
 fi
 ac_fn_c_check_type "$LINENO" "long double" "ac_cv_type_long_double" "$ac_includes_default"
-if test "x$ac_cv_type_long_double" = xyes; then :
+if test "x$ac_cv_type_long_double" = x""yes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_LONG_DOUBLE 1
@@ -11458,7 +11450,7 @@
 # This bug is HP SR number 8606223364.
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of char" >&5
 $as_echo_n "checking size of char... " >&6; }
-if ${ac_cv_sizeof_char+:} false; then :
+if test "${ac_cv_sizeof_char+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (char))" "ac_cv_sizeof_char"        "$ac_includes_default"; then :
@@ -11468,7 +11460,7 @@
      { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error 77 "cannot compute sizeof (char)
-See \`config.log' for more details" "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5 ; }
    else
      ac_cv_sizeof_char=0
    fi
@@ -11491,7 +11483,7 @@
 # This bug is HP SR number 8606223364.
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of short int" >&5
 $as_echo_n "checking size of short int... " >&6; }
-if ${ac_cv_sizeof_short_int+:} false; then :
+if test "${ac_cv_sizeof_short_int+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (short int))" "ac_cv_sizeof_short_int"        "$ac_includes_default"; then :
@@ -11501,7 +11493,7 @@
      { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error 77 "cannot compute sizeof (short int)
-See \`config.log' for more details" "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5 ; }
    else
      ac_cv_sizeof_short_int=0
    fi
@@ -11524,7 +11516,7 @@
 # This bug is HP SR number 8606223364.
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of int" >&5
 $as_echo_n "checking size of int... " >&6; }
-if ${ac_cv_sizeof_int+:} false; then :
+if test "${ac_cv_sizeof_int+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (int))" "ac_cv_sizeof_int"        "$ac_includes_default"; then :
@@ -11534,7 +11526,7 @@
      { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error 77 "cannot compute sizeof (int)
-See \`config.log' for more details" "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5 ; }
    else
      ac_cv_sizeof_int=0
    fi
@@ -11557,7 +11549,7 @@
 # This bug is HP SR number 8606223364.
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of long int" >&5
 $as_echo_n "checking size of long int... " >&6; }
-if ${ac_cv_sizeof_long_int+:} false; then :
+if test "${ac_cv_sizeof_long_int+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (long int))" "ac_cv_sizeof_long_int"        "$ac_includes_default"; then :
@@ -11567,7 +11559,7 @@
      { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error 77 "cannot compute sizeof (long int)
-See \`config.log' for more details" "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5 ; }
    else
      ac_cv_sizeof_long_int=0
    fi
@@ -11590,7 +11582,7 @@
 # This bug is HP SR number 8606223364.
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking size of long long int" >&5
 $as_echo_n "checking size of long long int... " >&6; }
-if ${ac_cv_sizeof_long_long_int+:} false; then :
+if test "${ac_cv_sizeof_long_long_int+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (long long int))" "ac_cv_sizeof_long_long_int"        "$ac_includes_default"; then :
@@ -11600,7 +11592,7 @@
      { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error 77 "cannot compute sizeof (long long int)
-See \`config.log' for more details" "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5 ; }
    else
      ac_cv_sizeof_long_long_int=0
    fi
@@ -11753,7 +11745,7 @@
 # More checks for data types
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for u_int type" >&5
 $as_echo_n "checking for u_int type... " >&6; }
-if ${ac_cv_have_u_int+:} false; then :
+if test "${ac_cv_have_u_int+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -11788,7 +11780,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for intXX_t types" >&5
 $as_echo_n "checking for intXX_t types... " >&6; }
-if ${ac_cv_have_intxx_t+:} false; then :
+if test "${ac_cv_have_intxx_t+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -11854,7 +11846,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for int64_t type" >&5
 $as_echo_n "checking for int64_t type... " >&6; }
-if ${ac_cv_have_int64_t+:} false; then :
+if test "${ac_cv_have_int64_t+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -11899,7 +11891,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for u_intXX_t types" >&5
 $as_echo_n "checking for u_intXX_t types... " >&6; }
-if ${ac_cv_have_u_intxx_t+:} false; then :
+if test "${ac_cv_have_u_intxx_t+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -11963,7 +11955,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for u_int64_t types" >&5
 $as_echo_n "checking for u_int64_t types... " >&6; }
-if ${ac_cv_have_u_int64_t+:} false; then :
+if test "${ac_cv_have_u_int64_t+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12028,7 +12020,7 @@
 if test -z "$have_u_intxx_t" ; then
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for uintXX_t types" >&5
 $as_echo_n "checking for uintXX_t types... " >&6; }
-if ${ac_cv_have_uintxx_t+:} false; then :
+if test "${ac_cv_have_uintxx_t+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12139,7 +12131,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for u_char" >&5
 $as_echo_n "checking for u_char... " >&6; }
-if ${ac_cv_have_u_char+:} false; then :
+if test "${ac_cv_have_u_char+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12175,13 +12167,13 @@
    ac_fn_c_check_type "$LINENO" "socklen_t" "ac_cv_type_socklen_t" "#include <sys/types.h>
 #include <sys/socket.h>
 "
-if test "x$ac_cv_type_socklen_t" = xyes; then :
+if test "x$ac_cv_type_socklen_t" = x""yes; then :
 
 else
 
       { $as_echo "$as_me:${as_lineno-$LINENO}: checking for socklen_t equivalent" >&5
 $as_echo_n "checking for socklen_t equivalent... " >&6; }
-      if ${curl_cv_socklen_t_equiv+:} false; then :
+      if test "${curl_cv_socklen_t_equiv+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12238,7 +12230,7 @@
 
 ac_fn_c_check_type "$LINENO" "sig_atomic_t" "ac_cv_type_sig_atomic_t" "#include <signal.h>
 "
-if test "x$ac_cv_type_sig_atomic_t" = xyes; then :
+if test "x$ac_cv_type_sig_atomic_t" = x""yes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_SIG_ATOMIC_T 1
@@ -12260,7 +12252,7 @@
 #endif
 
 "
-if test "x$ac_cv_type_fsblkcnt_t" = xyes; then :
+if test "x$ac_cv_type_fsblkcnt_t" = x""yes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_FSBLKCNT_T 1
@@ -12281,7 +12273,7 @@
 #endif
 
 "
-if test "x$ac_cv_type_fsfilcnt_t" = xyes; then :
+if test "x$ac_cv_type_fsfilcnt_t" = x""yes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_FSFILCNT_T 1
@@ -12294,7 +12286,7 @@
 ac_fn_c_check_type "$LINENO" "in_addr_t" "ac_cv_type_in_addr_t" "#include <sys/types.h>
 #include <netinet/in.h>
 "
-if test "x$ac_cv_type_in_addr_t" = xyes; then :
+if test "x$ac_cv_type_in_addr_t" = x""yes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_IN_ADDR_T 1
@@ -12305,7 +12297,7 @@
 ac_fn_c_check_type "$LINENO" "in_port_t" "ac_cv_type_in_port_t" "#include <sys/types.h>
 #include <netinet/in.h>
 "
-if test "x$ac_cv_type_in_port_t" = xyes; then :
+if test "x$ac_cv_type_in_port_t" = x""yes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_IN_PORT_T 1
@@ -12317,7 +12309,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for size_t" >&5
 $as_echo_n "checking for size_t... " >&6; }
-if ${ac_cv_have_size_t+:} false; then :
+if test "${ac_cv_have_size_t+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12351,7 +12343,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for ssize_t" >&5
 $as_echo_n "checking for ssize_t... " >&6; }
-if ${ac_cv_have_ssize_t+:} false; then :
+if test "${ac_cv_have_ssize_t+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12385,7 +12377,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for clock_t" >&5
 $as_echo_n "checking for clock_t... " >&6; }
-if ${ac_cv_have_clock_t+:} false; then :
+if test "${ac_cv_have_clock_t+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12419,7 +12411,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for sa_family_t" >&5
 $as_echo_n "checking for sa_family_t... " >&6; }
-if ${ac_cv_have_sa_family_t+:} false; then :
+if test "${ac_cv_have_sa_family_t+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12477,7 +12469,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for pid_t" >&5
 $as_echo_n "checking for pid_t... " >&6; }
-if ${ac_cv_have_pid_t+:} false; then :
+if test "${ac_cv_have_pid_t+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12511,7 +12503,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for mode_t" >&5
 $as_echo_n "checking for mode_t... " >&6; }
-if ${ac_cv_have_mode_t+:} false; then :
+if test "${ac_cv_have_mode_t+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12546,7 +12538,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for struct sockaddr_storage" >&5
 $as_echo_n "checking for struct sockaddr_storage... " >&6; }
-if ${ac_cv_have_struct_sockaddr_storage+:} false; then :
+if test "${ac_cv_have_struct_sockaddr_storage+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12583,7 +12575,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for struct sockaddr_in6" >&5
 $as_echo_n "checking for struct sockaddr_in6... " >&6; }
-if ${ac_cv_have_struct_sockaddr_in6+:} false; then :
+if test "${ac_cv_have_struct_sockaddr_in6+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12620,7 +12612,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for struct in6_addr" >&5
 $as_echo_n "checking for struct in6_addr... " >&6; }
-if ${ac_cv_have_struct_in6_addr+:} false; then :
+if test "${ac_cv_have_struct_in6_addr+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12661,7 +12653,7 @@
 #include <netinet/in.h>
 
 "
-if test "x$ac_cv_member_struct_sockaddr_in6_sin6_scope_id" = xyes; then :
+if test "x$ac_cv_member_struct_sockaddr_in6_sin6_scope_id" = x""yes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_STRUCT_SOCKADDR_IN6_SIN6_SCOPE_ID 1
@@ -12674,7 +12666,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for struct addrinfo" >&5
 $as_echo_n "checking for struct addrinfo... " >&6; }
-if ${ac_cv_have_struct_addrinfo+:} false; then :
+if test "${ac_cv_have_struct_addrinfo+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12712,7 +12704,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for struct timeval" >&5
 $as_echo_n "checking for struct timeval... " >&6; }
-if ${ac_cv_have_struct_timeval+:} false; then :
+if test "${ac_cv_have_struct_timeval+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12746,7 +12738,7 @@
 fi
 
 ac_fn_c_check_type "$LINENO" "struct timespec" "ac_cv_type_struct_timespec" "$ac_includes_default"
-if test "x$ac_cv_type_struct_timespec" = xyes; then :
+if test "x$ac_cv_type_struct_timespec" = x""yes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_STRUCT_TIMESPEC 1
@@ -12815,7 +12807,7 @@
 		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_host
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ut_host field in utmp.h" >&5
 $as_echo_n "checking for ut_host field in utmp.h... " >&6; }
-	if eval \${$ossh_varname+:} false; then :
+	if eval "test \"\${$ossh_varname+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12854,7 +12846,7 @@
 		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_host
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ut_host field in utmpx.h" >&5
 $as_echo_n "checking for ut_host field in utmpx.h... " >&6; }
-	if eval \${$ossh_varname+:} false; then :
+	if eval "test \"\${$ossh_varname+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12893,7 +12885,7 @@
 		ossh_varname="ossh_cv_$ossh_safe""_has_"syslen
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for syslen field in utmpx.h" >&5
 $as_echo_n "checking for syslen field in utmpx.h... " >&6; }
-	if eval \${$ossh_varname+:} false; then :
+	if eval "test \"\${$ossh_varname+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12932,7 +12924,7 @@
 		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_pid
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ut_pid field in utmp.h" >&5
 $as_echo_n "checking for ut_pid field in utmp.h... " >&6; }
-	if eval \${$ossh_varname+:} false; then :
+	if eval "test \"\${$ossh_varname+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -12971,7 +12963,7 @@
 		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_type
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ut_type field in utmp.h" >&5
 $as_echo_n "checking for ut_type field in utmp.h... " >&6; }
-	if eval \${$ossh_varname+:} false; then :
+	if eval "test \"\${$ossh_varname+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13010,7 +13002,7 @@
 		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_type
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ut_type field in utmpx.h" >&5
 $as_echo_n "checking for ut_type field in utmpx.h... " >&6; }
-	if eval \${$ossh_varname+:} false; then :
+	if eval "test \"\${$ossh_varname+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13049,7 +13041,7 @@
 		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_tv
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ut_tv field in utmp.h" >&5
 $as_echo_n "checking for ut_tv field in utmp.h... " >&6; }
-	if eval \${$ossh_varname+:} false; then :
+	if eval "test \"\${$ossh_varname+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13088,7 +13080,7 @@
 		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_id
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ut_id field in utmp.h" >&5
 $as_echo_n "checking for ut_id field in utmp.h... " >&6; }
-	if eval \${$ossh_varname+:} false; then :
+	if eval "test \"\${$ossh_varname+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13127,7 +13119,7 @@
 		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_id
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ut_id field in utmpx.h" >&5
 $as_echo_n "checking for ut_id field in utmpx.h... " >&6; }
-	if eval \${$ossh_varname+:} false; then :
+	if eval "test \"\${$ossh_varname+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13166,7 +13158,7 @@
 		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ut_addr field in utmp.h" >&5
 $as_echo_n "checking for ut_addr field in utmp.h... " >&6; }
-	if eval \${$ossh_varname+:} false; then :
+	if eval "test \"\${$ossh_varname+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13205,7 +13197,7 @@
 		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ut_addr field in utmpx.h" >&5
 $as_echo_n "checking for ut_addr field in utmpx.h... " >&6; }
-	if eval \${$ossh_varname+:} false; then :
+	if eval "test \"\${$ossh_varname+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13244,7 +13236,7 @@
 		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr_v6
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ut_addr_v6 field in utmp.h" >&5
 $as_echo_n "checking for ut_addr_v6 field in utmp.h... " >&6; }
-	if eval \${$ossh_varname+:} false; then :
+	if eval "test \"\${$ossh_varname+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13283,7 +13275,7 @@
 		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_addr_v6
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ut_addr_v6 field in utmpx.h" >&5
 $as_echo_n "checking for ut_addr_v6 field in utmpx.h... " >&6; }
-	if eval \${$ossh_varname+:} false; then :
+	if eval "test \"\${$ossh_varname+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13322,7 +13314,7 @@
 		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_exit
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ut_exit field in utmp.h" >&5
 $as_echo_n "checking for ut_exit field in utmp.h... " >&6; }
-	if eval \${$ossh_varname+:} false; then :
+	if eval "test \"\${$ossh_varname+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13361,7 +13353,7 @@
 		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_time
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ut_time field in utmp.h" >&5
 $as_echo_n "checking for ut_time field in utmp.h... " >&6; }
-	if eval \${$ossh_varname+:} false; then :
+	if eval "test \"\${$ossh_varname+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13400,7 +13392,7 @@
 		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_time
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ut_time field in utmpx.h" >&5
 $as_echo_n "checking for ut_time field in utmpx.h... " >&6; }
-	if eval \${$ossh_varname+:} false; then :
+	if eval "test \"\${$ossh_varname+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13439,7 +13431,7 @@
 		ossh_varname="ossh_cv_$ossh_safe""_has_"ut_tv
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for ut_tv field in utmpx.h" >&5
 $as_echo_n "checking for ut_tv field in utmpx.h... " >&6; }
-	if eval \${$ossh_varname+:} false; then :
+	if eval "test \"\${$ossh_varname+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13474,7 +13466,7 @@
 
 
 ac_fn_c_check_member "$LINENO" "struct stat" "st_blksize" "ac_cv_member_struct_stat_st_blksize" "$ac_includes_default"
-if test "x$ac_cv_member_struct_stat_st_blksize" = xyes; then :
+if test "x$ac_cv_member_struct_stat_st_blksize" = x""yes; then :
 
 cat >>confdefs.h <<_ACEOF
 #define HAVE_STRUCT_STAT_ST_BLKSIZE 1
@@ -13493,7 +13485,7 @@
 #include <resolv.h>
 
 "
-if test "x$ac_cv_member_struct___res_state_retrans" = xyes; then :
+if test "x$ac_cv_member_struct___res_state_retrans" = x""yes; then :
 
 else
 
@@ -13504,7 +13496,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for ss_family field in struct sockaddr_storage" >&5
 $as_echo_n "checking for ss_family field in struct sockaddr_storage... " >&6; }
-if ${ac_cv_have_ss_family_in_struct_ss+:} false; then :
+if test "${ac_cv_have_ss_family_in_struct_ss+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13540,7 +13532,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for __ss_family field in struct sockaddr_storage" >&5
 $as_echo_n "checking for __ss_family field in struct sockaddr_storage... " >&6; }
-if ${ac_cv_have___ss_family_in_struct_ss+:} false; then :
+if test "${ac_cv_have___ss_family_in_struct_ss+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13577,7 +13569,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for pw_class field in struct passwd" >&5
 $as_echo_n "checking for pw_class field in struct passwd... " >&6; }
-if ${ac_cv_have_pw_class_in_struct_passwd+:} false; then :
+if test "${ac_cv_have_pw_class_in_struct_passwd+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13611,7 +13603,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for pw_expire field in struct passwd" >&5
 $as_echo_n "checking for pw_expire field in struct passwd... " >&6; }
-if ${ac_cv_have_pw_expire_in_struct_passwd+:} false; then :
+if test "${ac_cv_have_pw_expire_in_struct_passwd+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13645,7 +13637,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for pw_change field in struct passwd" >&5
 $as_echo_n "checking for pw_change field in struct passwd... " >&6; }
-if ${ac_cv_have_pw_change_in_struct_passwd+:} false; then :
+if test "${ac_cv_have_pw_change_in_struct_passwd+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13679,7 +13671,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for msg_accrights field in struct msghdr" >&5
 $as_echo_n "checking for msg_accrights field in struct msghdr... " >&6; }
-if ${ac_cv_have_accrights_in_msghdr+:} false; then :
+if test "${ac_cv_have_accrights_in_msghdr+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13816,7 +13808,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for msg_control field in struct msghdr" >&5
 $as_echo_n "checking for msg_control field in struct msghdr... " >&6; }
-if ${ac_cv_have_control_in_msghdr+:} false; then :
+if test "${ac_cv_have_control_in_msghdr+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13862,7 +13854,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking if libc defines __progname" >&5
 $as_echo_n "checking if libc defines __progname... " >&6; }
-if ${ac_cv_libc_defines___progname+:} false; then :
+if test "${ac_cv_libc_defines___progname+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13897,7 +13889,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $CC implements __FUNCTION__" >&5
 $as_echo_n "checking whether $CC implements __FUNCTION__... " >&6; }
-if ${ac_cv_cc_implements___FUNCTION__+:} false; then :
+if test "${ac_cv_cc_implements___FUNCTION__+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13932,7 +13924,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $CC implements __func__" >&5
 $as_echo_n "checking whether $CC implements __func__... " >&6; }
-if ${ac_cv_cc_implements___func__+:} false; then :
+if test "${ac_cv_cc_implements___func__+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -13967,7 +13959,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether va_copy exists" >&5
 $as_echo_n "checking whether va_copy exists... " >&6; }
-if ${ac_cv_have_va_copy+:} false; then :
+if test "${ac_cv_have_va_copy+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -14005,7 +13997,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether __va_copy exists" >&5
 $as_echo_n "checking whether __va_copy exists... " >&6; }
-if ${ac_cv_have___va_copy+:} false; then :
+if test "${ac_cv_have___va_copy+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -14043,7 +14035,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether getopt has optreset support" >&5
 $as_echo_n "checking whether getopt has optreset support... " >&6; }
-if ${ac_cv_have_getopt_optreset+:} false; then :
+if test "${ac_cv_have_getopt_optreset+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -14078,7 +14070,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking if libc defines sys_errlist" >&5
 $as_echo_n "checking if libc defines sys_errlist... " >&6; }
-if ${ac_cv_libc_defines_sys_errlist+:} false; then :
+if test "${ac_cv_libc_defines_sys_errlist+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -14114,7 +14106,7 @@
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking if libc defines sys_nerr" >&5
 $as_echo_n "checking if libc defines sys_nerr... " >&6; }
-if ${ac_cv_libc_defines_sys_nerr+:} false; then :
+if test "${ac_cv_libc_defines_sys_nerr+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
 
@@ -14150,7 +14142,7 @@
 # Check libraries needed by DNS fingerprint support
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing getrrsetbyname" >&5
 $as_echo_n "checking for library containing getrrsetbyname... " >&6; }
-if ${ac_cv_search_getrrsetbyname+:} false; then :
+if test "${ac_cv_search_getrrsetbyname+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_func_search_save_LIBS=$LIBS
@@ -14184,11 +14176,11 @@
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext
-  if ${ac_cv_search_getrrsetbyname+:} false; then :
+  if test "${ac_cv_search_getrrsetbyname+set}" = set; then :
   break
 fi
 done
-if ${ac_cv_search_getrrsetbyname+:} false; then :
+if test "${ac_cv_search_getrrsetbyname+set}" = set; then :
 
 else
   ac_cv_search_getrrsetbyname=no
@@ -14209,7 +14201,7 @@
 		# Needed by our getrrsetbyname()
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing res_query" >&5
 $as_echo_n "checking for library containing res_query... " >&6; }
-if ${ac_cv_search_res_query+:} false; then :
+if test "${ac_cv_search_res_query+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_func_search_save_LIBS=$LIBS
@@ -14243,11 +14235,11 @@
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext
-  if ${ac_cv_search_res_query+:} false; then :
+  if test "${ac_cv_search_res_query+set}" = set; then :
   break
 fi
 done
-if ${ac_cv_search_res_query+:} false; then :
+if test "${ac_cv_search_res_query+set}" = set; then :
 
 else
   ac_cv_search_res_query=no
@@ -14265,7 +14257,7 @@
 
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing dn_expand" >&5
 $as_echo_n "checking for library containing dn_expand... " >&6; }
-if ${ac_cv_search_dn_expand+:} false; then :
+if test "${ac_cv_search_dn_expand+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_func_search_save_LIBS=$LIBS
@@ -14299,11 +14291,11 @@
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext
-  if ${ac_cv_search_dn_expand+:} false; then :
+  if test "${ac_cv_search_dn_expand+set}" = set; then :
   break
 fi
 done
-if ${ac_cv_search_dn_expand+:} false; then :
+if test "${ac_cv_search_dn_expand+set}" = set; then :
 
 else
   ac_cv_search_dn_expand=no
@@ -14398,7 +14390,7 @@
 		ac_fn_c_check_decl "$LINENO" "_getshort" "ac_cv_have_decl__getshort" "#include <sys/types.h>
 		    #include <arpa/nameser.h>
 "
-if test "x$ac_cv_have_decl__getshort" = xyes; then :
+if test "x$ac_cv_have_decl__getshort" = x""yes; then :
   ac_have_decl=1
 else
   ac_have_decl=0
@@ -14410,7 +14402,7 @@
 ac_fn_c_check_decl "$LINENO" "_getlong" "ac_cv_have_decl__getlong" "#include <sys/types.h>
 		    #include <arpa/nameser.h>
 "
-if test "x$ac_cv_have_decl__getlong" = xyes; then :
+if test "x$ac_cv_have_decl__getlong" = x""yes; then :
   ac_have_decl=1
 else
   ac_have_decl=0
@@ -14422,7 +14414,7 @@
 
 		ac_fn_c_check_member "$LINENO" "HEADER" "ad" "ac_cv_member_HEADER_ad" "#include <arpa/nameser.h>
 "
-if test "x$ac_cv_member_HEADER_ad" = xyes; then :
+if test "x$ac_cv_member_HEADER_ad" = x""yes; then :
 
 $as_echo "#define HAVE_HEADER_AD 1" >>confdefs.h
 
@@ -14482,7 +14474,7 @@
 
 		SELINUX_MSG="yes"
 		ac_fn_c_check_header_mongrel "$LINENO" "selinux/selinux.h" "ac_cv_header_selinux_selinux_h" "$ac_includes_default"
-if test "x$ac_cv_header_selinux_selinux_h" = xyes; then :
+if test "x$ac_cv_header_selinux_selinux_h" = x""yes; then :
 
 else
   as_fn_error $? "SELinux support requires selinux.h header" "$LINENO" 5
@@ -14491,7 +14483,7 @@
 
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for setexeccon in -lselinux" >&5
 $as_echo_n "checking for setexeccon in -lselinux... " >&6; }
-if ${ac_cv_lib_selinux_setexeccon+:} false; then :
+if test "${ac_cv_lib_selinux_setexeccon+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -14525,7 +14517,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_selinux_setexeccon" >&5
 $as_echo "$ac_cv_lib_selinux_setexeccon" >&6; }
-if test "x$ac_cv_lib_selinux_setexeccon" = xyes; then :
+if test "x$ac_cv_lib_selinux_setexeccon" = x""yes; then :
    LIBSELINUX="-lselinux"
 			  LIBS="$LIBS -lselinux"
 
@@ -14576,7 +14568,7 @@
 set dummy krb5-config; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_KRB5CONF+:} false; then :
+if test "${ac_cv_path_KRB5CONF+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $KRB5CONF in
@@ -14685,7 +14677,7 @@
 					 K5LIBS="$K5LIBS -lcom_err -lasn1"
 					 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for net_write in -lroken" >&5
 $as_echo_n "checking for net_write in -lroken... " >&6; }
-if ${ac_cv_lib_roken_net_write+:} false; then :
+if test "${ac_cv_lib_roken_net_write+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -14719,13 +14711,13 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_roken_net_write" >&5
 $as_echo "$ac_cv_lib_roken_net_write" >&6; }
-if test "x$ac_cv_lib_roken_net_write" = xyes; then :
+if test "x$ac_cv_lib_roken_net_write" = x""yes; then :
   K5LIBS="$K5LIBS -lroken"
 fi
 
 					 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for des_cbc_encrypt in -ldes" >&5
 $as_echo_n "checking for des_cbc_encrypt in -ldes... " >&6; }
-if ${ac_cv_lib_des_des_cbc_encrypt+:} false; then :
+if test "${ac_cv_lib_des_des_cbc_encrypt+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -14759,7 +14751,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_des_des_cbc_encrypt" >&5
 $as_echo "$ac_cv_lib_des_des_cbc_encrypt" >&6; }
-if test "x$ac_cv_lib_des_des_cbc_encrypt" = xyes; then :
+if test "x$ac_cv_lib_des_des_cbc_encrypt" = x""yes; then :
   K5LIBS="$K5LIBS -ldes"
 fi
 
@@ -14774,7 +14766,7 @@
 rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
 			{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing dn_expand" >&5
 $as_echo_n "checking for library containing dn_expand... " >&6; }
-if ${ac_cv_search_dn_expand+:} false; then :
+if test "${ac_cv_search_dn_expand+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_func_search_save_LIBS=$LIBS
@@ -14808,11 +14800,11 @@
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext
-  if ${ac_cv_search_dn_expand+:} false; then :
+  if test "${ac_cv_search_dn_expand+set}" = set; then :
   break
 fi
 done
-if ${ac_cv_search_dn_expand+:} false; then :
+if test "${ac_cv_search_dn_expand+set}" = set; then :
 
 else
   ac_cv_search_dn_expand=no
@@ -14831,7 +14823,7 @@
 
 			{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for gss_init_sec_context in -lgssapi_krb5" >&5
 $as_echo_n "checking for gss_init_sec_context in -lgssapi_krb5... " >&6; }
-if ${ac_cv_lib_gssapi_krb5_gss_init_sec_context+:} false; then :
+if test "${ac_cv_lib_gssapi_krb5_gss_init_sec_context+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -14865,14 +14857,14 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gssapi_krb5_gss_init_sec_context" >&5
 $as_echo "$ac_cv_lib_gssapi_krb5_gss_init_sec_context" >&6; }
-if test "x$ac_cv_lib_gssapi_krb5_gss_init_sec_context" = xyes; then :
+if test "x$ac_cv_lib_gssapi_krb5_gss_init_sec_context" = x""yes; then :
    $as_echo "#define GSSAPI 1" >>confdefs.h
 
 				  K5LIBS="-lgssapi_krb5 $K5LIBS"
 else
    { $as_echo "$as_me:${as_lineno-$LINENO}: checking for gss_init_sec_context in -lgssapi" >&5
 $as_echo_n "checking for gss_init_sec_context in -lgssapi... " >&6; }
-if ${ac_cv_lib_gssapi_gss_init_sec_context+:} false; then :
+if test "${ac_cv_lib_gssapi_gss_init_sec_context+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
@@ -14906,7 +14898,7 @@
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_gssapi_gss_init_sec_context" >&5
 $as_echo "$ac_cv_lib_gssapi_gss_init_sec_context" >&6; }
-if test "x$ac_cv_lib_gssapi_gss_init_sec_context" = xyes; then :
+if test "x$ac_cv_lib_gssapi_gss_init_sec_context" = x""yes; then :
    $as_echo "#define GSSAPI 1" >>confdefs.h
 
 					  K5LIBS="-lgssapi $K5LIBS"
@@ -14920,7 +14912,7 @@
 
 
 			ac_fn_c_check_header_mongrel "$LINENO" "gssapi.h" "ac_cv_header_gssapi_h" "$ac_includes_default"
-if test "x$ac_cv_header_gssapi_h" = xyes; then :
+if test "x$ac_cv_header_gssapi_h" = x""yes; then :
 
 else
    unset ac_cv_header_gssapi_h
@@ -14928,7 +14920,7 @@
 				  for ac_header in gssapi.h
 do :
   ac_fn_c_check_header_mongrel "$LINENO" "gssapi.h" "ac_cv_header_gssapi_h" "$ac_includes_default"
-if test "x$ac_cv_header_gssapi_h" = xyes; then :
+if test "x$ac_cv_header_gssapi_h" = x""yes; then :
   cat >>confdefs.h <<_ACEOF
 #define HAVE_GSSAPI_H 1
 _ACEOF
@@ -14950,7 +14942,7 @@
 			oldCPP="$CPPFLAGS"
 			CPPFLAGS="$CPPFLAGS -I${KRB5ROOT}/include/gssapi"
 			ac_fn_c_check_header_mongrel "$LINENO" "gssapi_krb5.h" "ac_cv_header_gssapi_krb5_h" "$ac_includes_default"
-if test "x$ac_cv_header_gssapi_krb5_h" = xyes; then :
+if test "x$ac_cv_header_gssapi_krb5_h" = x""yes; then :
 
 else
    CPPFLAGS="$oldCPP"
@@ -14966,7 +14958,23 @@
 			blibpath="$blibpath:${KRB5ROOT}/lib"
 		fi
 
-		for ac_header in gssapi.h gssapi/gssapi.h
+                SAVELIBS=$LIBS
+		LIBS="$LIBS $K5LIBS"
+ 		for ac_func in gss_localname gss_userok
+do :
+  as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
+ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
+  cat >>confdefs.h <<_ACEOF
+#define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
+_ACEOF
+
+fi
+done
+
+		LIBS=$SAVELIBS
+
+		for ac_header in gssapi.h gssapi/gssapi.h gssapi/gssapi_ext.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
@@ -15009,7 +15017,7 @@
 		LIBS="$LIBS $K5LIBS"
 		{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for library containing k_hasafs" >&5
 $as_echo_n "checking for library containing k_hasafs... " >&6; }
-if ${ac_cv_search_k_hasafs+:} false; then :
+if test "${ac_cv_search_k_hasafs+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_func_search_save_LIBS=$LIBS
@@ -15043,11 +15051,11 @@
 fi
 rm -f core conftest.err conftest.$ac_objext \
     conftest$ac_exeext
-  if ${ac_cv_search_k_hasafs+:} false; then :
+  if test "${ac_cv_search_k_hasafs+set}" = set; then :
   break
 fi
 done
-if ${ac_cv_search_k_hasafs+:} false; then :
+if test "${ac_cv_search_k_hasafs+set}" = set; then :
 
 else
   ac_cv_search_k_hasafs=no
@@ -15108,7 +15116,7 @@
 set dummy xauth; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_xauth_path+:} false; then :
+if test "${ac_cv_path_xauth_path+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $xauth_path in
@@ -15302,7 +15310,7 @@
 		as_ac_File=`$as_echo "ac_cv_file_"/dev/ptmx"" | $as_tr_sh`
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for \"/dev/ptmx\"" >&5
 $as_echo_n "checking for \"/dev/ptmx\"... " >&6; }
-if eval \${$as_ac_File+:} false; then :
+if eval "test \"\${$as_ac_File+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   test "$cross_compiling" = yes &&
@@ -15335,7 +15343,7 @@
 	as_ac_File=`$as_echo "ac_cv_file_"/dev/ptc"" | $as_tr_sh`
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for \"/dev/ptc\"" >&5
 $as_echo_n "checking for \"/dev/ptc\"... " >&6; }
-if eval \${$as_ac_File+:} false; then :
+if eval "test \"\${$as_ac_File+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   test "$cross_compiling" = yes &&
@@ -15391,7 +15399,7 @@
 set dummy $ac_prog; ac_word=$2
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 $as_echo_n "checking for $ac_word... " >&6; }
-if ${ac_cv_path_NROFF+:} false; then :
+if test "${ac_cv_path_NROFF+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   case $NROFF in
@@ -15564,7 +15572,7 @@
 	as_ac_File=`$as_echo "ac_cv_file_"/etc/default/login"" | $as_tr_sh`
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for \"/etc/default/login\"" >&5
 $as_echo_n "checking for \"/etc/default/login\"... " >&6; }
-if eval \${$as_ac_File+:} false; then :
+if eval "test \"\${$as_ac_File+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   test "$cross_compiling" = yes &&
@@ -16183,7 +16191,7 @@
 	TEST_SSH_IPV6=yes
 fi
 ac_fn_c_check_decl "$LINENO" "BROKEN_GETADDRINFO" "ac_cv_have_decl_BROKEN_GETADDRINFO" "$ac_includes_default"
-if test "x$ac_cv_have_decl_BROKEN_GETADDRINFO" = xyes; then :
+if test "x$ac_cv_have_decl_BROKEN_GETADDRINFO" = x""yes; then :
   TEST_SSH_IPV6=no
 fi
 
@@ -16257,21 +16265,10 @@
      :end' >>confcache
 if diff "$cache_file" confcache >/dev/null 2>&1; then :; else
   if test -w "$cache_file"; then
-    if test "x$cache_file" != "x/dev/null"; then
+    test "x$cache_file" != "x/dev/null" &&
       { $as_echo "$as_me:${as_lineno-$LINENO}: updating cache $cache_file" >&5
 $as_echo "$as_me: updating cache $cache_file" >&6;}
-      if test ! -f "$cache_file" || test -h "$cache_file"; then
-	cat confcache >"$cache_file"
-      else
-        case $cache_file in #(
-        */* | ?:*)
-	  mv -f confcache "$cache_file"$$ &&
-	  mv -f "$cache_file"$$ "$cache_file" ;; #(
-        *)
-	  mv -f confcache "$cache_file" ;;
-	esac
-      fi
-    fi
+    cat confcache >$cache_file
   else
     { $as_echo "$as_me:${as_lineno-$LINENO}: not updating unwritable cache $cache_file" >&5
 $as_echo "$as_me: not updating unwritable cache $cache_file" >&6;}
@@ -16304,7 +16301,7 @@
 
 
 
-: "${CONFIG_STATUS=./config.status}"
+: ${CONFIG_STATUS=./config.status}
 ac_write_fail=0
 ac_clean_files_save=$ac_clean_files
 ac_clean_files="$ac_clean_files $CONFIG_STATUS"
@@ -16405,7 +16402,6 @@
 IFS=" ""	$as_nl"
 
 # Find who we are.  Look in the path if we contain no directory separator.
-as_myself=
 case $0 in #((
   *[\\/]* ) as_myself=$0 ;;
   *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -16713,7 +16709,7 @@
 # values after options handling.
 ac_log="
 This file was extended by OpenSSH $as_me Portable, which was
-generated by GNU Autoconf 2.68.  Invocation command line was
+generated by GNU Autoconf 2.67.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
@@ -16775,7 +16771,7 @@
 ac_cs_config="`$as_echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`"
 ac_cs_version="\\
 OpenSSH config.status Portable
-configured by $0, generated by GNU Autoconf 2.68,
+configured by $0, generated by GNU Autoconf 2.67,
   with options \\"\$ac_cs_config\\"
 
 Copyright (C) 2010 Free Software Foundation, Inc.
@@ -16906,7 +16902,7 @@
     "openbsd-compat/regress/Makefile") CONFIG_FILES="$CONFIG_FILES openbsd-compat/regress/Makefile" ;;
     "survey.sh") CONFIG_FILES="$CONFIG_FILES survey.sh" ;;
 
-  *) as_fn_error $? "invalid argument: \`$ac_config_target'" "$LINENO" 5;;
+  *) as_fn_error $? "invalid argument: \`$ac_config_target'" "$LINENO" 5 ;;
   esac
 done
 
@@ -16928,10 +16924,9 @@
 # after its creation but before its name has been assigned to `$tmp'.
 $debug ||
 {
-  tmp= ac_tmp=
+  tmp=
   trap 'exit_status=$?
-  : "${ac_tmp:=$tmp}"
-  { test ! -d "$ac_tmp" || rm -fr "$ac_tmp"; } && exit $exit_status
+  { test -z "$tmp" || test ! -d "$tmp" || rm -fr "$tmp"; } && exit $exit_status
 ' 0
   trap 'as_fn_exit 1' 1 2 13 15
 }
@@ -16939,13 +16934,12 @@
 
 {
   tmp=`(umask 077 && mktemp -d "./confXXXXXX") 2>/dev/null` &&
-  test -d "$tmp"
+  test -n "$tmp" && test -d "$tmp"
 }  ||
 {
   tmp=./conf$$-$RANDOM
   (umask 077 && mkdir "$tmp")
 } || as_fn_error $? "cannot create a temporary directory in ." "$LINENO" 5
-ac_tmp=$tmp
 
 # Set up the scripts for CONFIG_FILES section.
 # No need to generate them if there are no CONFIG_FILES.
@@ -16967,7 +16961,7 @@
   ac_cs_awk_cr=$ac_cr
 fi
 
-echo 'BEGIN {' >"$ac_tmp/subs1.awk" &&
+echo 'BEGIN {' >"$tmp/subs1.awk" &&
 _ACEOF
 
 
@@ -16995,7 +16989,7 @@
 rm -f conf$$subs.sh
 
 cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
-cat >>"\$ac_tmp/subs1.awk" <<\\_ACAWK &&
+cat >>"\$tmp/subs1.awk" <<\\_ACAWK &&
 _ACEOF
 sed -n '
 h
@@ -17043,7 +17037,7 @@
 rm -f conf$$subs.awk
 cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
 _ACAWK
-cat >>"\$ac_tmp/subs1.awk" <<_ACAWK &&
+cat >>"\$tmp/subs1.awk" <<_ACAWK &&
   for (key in S) S_is_set[key] = 1
   FS = ""
 
@@ -17075,7 +17069,7 @@
   sed "s/$ac_cr\$//; s/$ac_cr/$ac_cs_awk_cr/g"
 else
   cat
-fi < "$ac_tmp/subs1.awk" > "$ac_tmp/subs.awk" \
+fi < "$tmp/subs1.awk" > "$tmp/subs.awk" \
   || as_fn_error $? "could not setup config files machinery" "$LINENO" 5
 _ACEOF
 
@@ -17109,7 +17103,7 @@
 # No need to generate them if there are no CONFIG_HEADERS.
 # This happens for instance with `./config.status Makefile'.
 if test -n "$CONFIG_HEADERS"; then
-cat >"$ac_tmp/defines.awk" <<\_ACAWK ||
+cat >"$tmp/defines.awk" <<\_ACAWK ||
 BEGIN {
 _ACEOF
 
@@ -17121,8 +17115,8 @@
 # handling of long lines.
 ac_delim='%!_!# '
 for ac_last_try in false false :; do
-  ac_tt=`sed -n "/$ac_delim/p" confdefs.h`
-  if test -z "$ac_tt"; then
+  ac_t=`sed -n "/$ac_delim/p" confdefs.h`
+  if test -z "$ac_t"; then
     break
   elif $ac_last_try; then
     as_fn_error $? "could not make $CONFIG_HEADERS" "$LINENO" 5
@@ -17223,7 +17217,7 @@
   esac
   case $ac_mode$ac_tag in
   :[FHL]*:*);;
-  :L* | :C*:*) as_fn_error $? "invalid tag \`$ac_tag'" "$LINENO" 5;;
+  :L* | :C*:*) as_fn_error $? "invalid tag \`$ac_tag'" "$LINENO" 5 ;;
   :[FH]-) ac_tag=-:-;;
   :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;
   esac
@@ -17242,7 +17236,7 @@
     for ac_f
     do
       case $ac_f in
-      -) ac_f="$ac_tmp/stdin";;
+      -) ac_f="$tmp/stdin";;
       *) # Look for the file first in the build tree, then in the source tree
 	 # (if the path is not absolute).  The absolute path cannot be DOS-style,
 	 # because $ac_f cannot contain `:'.
@@ -17251,7 +17245,7 @@
 	   [\\/$]*) false;;
 	   *) test -f "$srcdir/$ac_f" && ac_f="$srcdir/$ac_f";;
 	   esac ||
-	   as_fn_error 1 "cannot find input file: \`$ac_f'" "$LINENO" 5;;
+	   as_fn_error 1 "cannot find input file: \`$ac_f'" "$LINENO" 5 ;;
       esac
       case $ac_f in *\'*) ac_f=`$as_echo "$ac_f" | sed "s/'/'\\\\\\\\''/g"`;; esac
       as_fn_append ac_file_inputs " '$ac_f'"
@@ -17277,8 +17271,8 @@
     esac
 
     case $ac_tag in
-    *:-:* | *:-) cat >"$ac_tmp/stdin" \
-      || as_fn_error $? "could not create $ac_file" "$LINENO" 5 ;;
+    *:-:* | *:-) cat >"$tmp/stdin" \
+      || as_fn_error $? "could not create $ac_file" "$LINENO" 5  ;;
     esac
     ;;
   esac
@@ -17408,22 +17402,21 @@
 s&@INSTALL@&$ac_INSTALL&;t t
 $ac_datarootdir_hack
 "
-eval sed \"\$ac_sed_extra\" "$ac_file_inputs" | $AWK -f "$ac_tmp/subs.awk" \
-  >$ac_tmp/out || as_fn_error $? "could not create $ac_file" "$LINENO" 5
+eval sed \"\$ac_sed_extra\" "$ac_file_inputs" | $AWK -f "$tmp/subs.awk" >$tmp/out \
+  || as_fn_error $? "could not create $ac_file" "$LINENO" 5
 
 test -z "$ac_datarootdir_hack$ac_datarootdir_seen" &&
-  { ac_out=`sed -n '/\${datarootdir}/p' "$ac_tmp/out"`; test -n "$ac_out"; } &&
-  { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' \
-      "$ac_tmp/out"`; test -z "$ac_out"; } &&
+  { ac_out=`sed -n '/\${datarootdir}/p' "$tmp/out"`; test -n "$ac_out"; } &&
+  { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' "$tmp/out"`; test -z "$ac_out"; } &&
   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $ac_file contains a reference to the variable \`datarootdir'
 which seems to be undefined.  Please make sure it is defined" >&5
 $as_echo "$as_me: WARNING: $ac_file contains a reference to the variable \`datarootdir'
 which seems to be undefined.  Please make sure it is defined" >&2;}
 
-  rm -f "$ac_tmp/stdin"
+  rm -f "$tmp/stdin"
   case $ac_file in
-  -) cat "$ac_tmp/out" && rm -f "$ac_tmp/out";;
-  *) rm -f "$ac_file" && mv "$ac_tmp/out" "$ac_file";;
+  -) cat "$tmp/out" && rm -f "$tmp/out";;
+  *) rm -f "$ac_file" && mv "$tmp/out" "$ac_file";;
   esac \
   || as_fn_error $? "could not create $ac_file" "$LINENO" 5
  ;;
@@ -17434,20 +17427,20 @@
   if test x"$ac_file" != x-; then
     {
       $as_echo "/* $configure_input  */" \
-      && eval '$AWK -f "$ac_tmp/defines.awk"' "$ac_file_inputs"
-    } >"$ac_tmp/config.h" \
+      && eval '$AWK -f "$tmp/defines.awk"' "$ac_file_inputs"
+    } >"$tmp/config.h" \
       || as_fn_error $? "could not create $ac_file" "$LINENO" 5
-    if diff "$ac_file" "$ac_tmp/config.h" >/dev/null 2>&1; then
+    if diff "$ac_file" "$tmp/config.h" >/dev/null 2>&1; then
       { $as_echo "$as_me:${as_lineno-$LINENO}: $ac_file is unchanged" >&5
 $as_echo "$as_me: $ac_file is unchanged" >&6;}
     else
       rm -f "$ac_file"
-      mv "$ac_tmp/config.h" "$ac_file" \
+      mv "$tmp/config.h" "$ac_file" \
 	|| as_fn_error $? "could not create $ac_file" "$LINENO" 5
     fi
   else
     $as_echo "/* $configure_input  */" \
-      && eval '$AWK -f "$ac_tmp/defines.awk"' "$ac_file_inputs" \
+      && eval '$AWK -f "$tmp/defines.awk"' "$ac_file_inputs" \
       || as_fn_error $? "could not create -" "$LINENO" 5
   fi
  ;;
Index: openssh/configure.ac
===================================================================
--- openssh.orig/configure.ac	2011-09-22 16:04:02.129200894 -0400
+++ openssh/configure.ac	2011-09-22 16:09:02.469417401 -0400
@@ -3492,7 +3492,12 @@
 			blibpath="$blibpath:${KRB5ROOT}/lib"
 		fi
 
-		AC_CHECK_HEADERS([gssapi.h gssapi/gssapi.h])
+                SAVELIBS=$LIBS
+		LIBS="$LIBS $K5LIBS"
+ 		AC_CHECK_FUNCS(gss_localname gss_userok)
+		LIBS=$SAVELIBS
+
+		AC_CHECK_HEADERS([gssapi.h gssapi/gssapi.h gssapi/gssapi_ext.h])
 		AC_CHECK_HEADERS([gssapi_krb5.h gssapi/gssapi_krb5.h])
 		AC_CHECK_HEADERS([gssapi_generic.h gssapi/gssapi_generic.h])
 
Index: openssh/ssh-gss.h
===================================================================
--- openssh.orig/ssh-gss.h	2011-09-22 16:04:02.137200794 -0400
+++ openssh/ssh-gss.h	2011-09-22 16:21:13.104238022 -0400
@@ -33,6 +33,9 @@
 #elif defined(HAVE_GSSAPI_GSSAPI_H)
 #include <gssapi/gssapi.h>
 #endif
+#ifdef HAVE_GSSAPI_GSSAPI_EXT_H
+#include <gssapi/gssapi_ext.h>
+#endif
 
 #ifdef KRB5
 # ifndef HEIMDAL
@@ -80,10 +83,11 @@
 } ssh_gssapi_ccache;
 
 typedef struct {
+  gss_OID_desc oid;
 	gss_buffer_desc displayname;
 	gss_buffer_desc exportedname;
 	gss_cred_id_t creds;
-	gss_name_t name;
+  gss_name_t cred_name, ctx_name;
 	struct ssh_gssapi_mech_struct *mech;
 	ssh_gssapi_ccache store;
 	int used;
@@ -106,7 +110,7 @@
 	OM_uint32	minor; /* both */
 	gss_ctx_id_t	context; /* both */
 	gss_name_t	name; /* both */
-	gss_OID		oid; /* client */
+	gss_OID		oid; /* both */
 	gss_cred_id_t	creds; /* server */
 	gss_name_t	client; /* server */
 	gss_cred_id_t	client_creds; /* both */
Index: openssh/gss-serv.c
===================================================================
--- openssh.orig/gss-serv.c	2011-09-22 16:04:02.129200894 -0400
+++ openssh/gss-serv.c	2011-09-22 16:24:01.874157405 -0400
@@ -54,16 +54,71 @@
 extern ServerOptions options;
 
 static ssh_gssapi_client gssapi_client =
-    { GSS_C_EMPTY_BUFFER, GSS_C_EMPTY_BUFFER,
-    GSS_C_NO_CREDENTIAL, GSS_C_NO_NAME,  NULL, {NULL, NULL, NULL}, 0, 0};
+  { {0, NULL}, GSS_C_EMPTY_BUFFER, GSS_C_EMPTY_BUFFER,
+    GSS_C_NO_CREDENTIAL, GSS_C_NO_NAME, GSS_C_NO_NAME, NULL, {NULL, NULL, NULL}, 0, 0};
 
 ssh_gssapi_mech gssapi_null_mech =
     { NULL, NULL, {0, NULL}, NULL, NULL, NULL, NULL, NULL};
+/* Generic GSS-API support*/
+#ifdef HAVE_GSS_USEROK
+static int ssh_gssapi_generic_userok(
+				 ssh_gssapi_client *client, char *user) {
+  if (gss_userok(client->ctx_name, user)) {
+    debug("userok succeded for %s", user);
+    return 1;
+  } else {
+    debug("userok failed for %s", user);
+    return 0;
+  }
+}
+#endif
+
+static int
+ssh_gssapi_generic_localname(ssh_gssapi_client *client,
+			  char **localname) {
+  #ifdef HAVE_GSS_LOCALNAME
+  gss_buffer_desc lbuffer;
+  OM_uint32 major, minor;
+  *localname = NULL;
+  major = gss_localname(&minor, client->cred_name, NULL, &lbuffer);
+  if (GSS_ERROR(major))
+    return 0;
+  if (lbuffer.value == NULL)
+    return 0;
+  *localname = xmalloc(lbuffer.length+1);
+  if (*localname) {
+    memcpy(*localname, lbuffer.value, lbuffer.length);
+    *localname[lbuffer.length] = '\0';
+  }
+  gss_release_buffer(&minor, &lbuffer);
+  if (*localname)
+    return 1;
+  return 0;
+  #else
+  debug("No generic gss_localname");
+  return 0;
+  #endif
+      }
+
+#ifdef HAVE_GSS_USEROK
+static ssh_gssapi_mech ssh_gssapi_generic_mech = {
+  NULL, NULL,
+  {0, NULL},
+  NULL, /* dochild */
+  ssh_gssapi_generic_userok,
+  ssh_gssapi_generic_localname,
+  NULL,
+  NULL};
+static const ssh_gssapi_mech *ssh_gssapi_generic_mech_ptr = &ssh_gssapi_generic_mech;
+#else /*HAVE_GSS_USEROK*/
+static const ssh_gssapi_mech ssh_gssapi_generic_mech_ptr = NULL;
+#endif
 
 #ifdef KRB5
 extern ssh_gssapi_mech gssapi_kerberos_mech;
 #endif
 
+
 ssh_gssapi_mech* supported_mechs[]= {
 #ifdef KRB5
 	&gssapi_kerberos_mech,
@@ -156,6 +211,24 @@
 	OM_uint32 min_status;
 	int present;
 	gss_OID_set supported;
+	/* If we have a generic mechanism all OIDs supported */
+	if (ssh_gssapi_generic_mech_ptr) {
+	  gss_OID_desc except_oids[3];
+	  gss_OID_set_desc except_attrs;
+	  except_oids[0] = *GSS_C_MA_MECH_NEGO;
+	  except_oids[1] = *GSS_C_MA_NOT_MECH;
+	  except_oids[2] = *GSS_C_MA_DEPRECATED;
+
+	  except_attrs.count = sizeof(except_oids)/sizeof(except_oids[0]);
+	  except_attrs.elements = except_oids;
+
+	  if (!GSS_ERROR(gss_indicate_mechs_by_attrs(&min_status,
+						     GSS_C_NO_OID_SET,
+						     &except_attrs,
+						     GSS_C_NO_OID_SET,
+						     oidset)))
+	    return;
+	}
 
 	gss_create_empty_oid_set(&min_status, oidset);
 
@@ -291,8 +364,8 @@
 	gss_buffer_desc ename = GSS_C_EMPTY_BUFFER;
 
 	if (options.gss_store_rekey && client->used && ctx->client_creds) {
-		if (client->mech->oid.length != ctx->oid->length ||
-		    (memcmp(client->mech->oid.elements,
+		if (client->oid.length != ctx->oid->length ||
+		    (memcmp(client->oid.elements,
 		     ctx->oid->elements, ctx->oid->length) !=0)) {
 			debug("Rekeyed credentials have different mechanism");
 			return GSS_S_COMPLETE;
@@ -305,7 +378,7 @@
 			return (ctx->major);
 		}
 
-		ctx->major = gss_compare_name(&ctx->minor, client->name, 
+		ctx->major = gss_compare_name(&ctx->minor, client->cred_name, 
 		    new_name, &equal);
 
 		if (GSS_ERROR(ctx->major)) {
@@ -320,9 +393,9 @@
 
 		debug("Marking rekeyed credentials for export");
 
-		gss_release_name(&ctx->minor, &client->name);
+		gss_release_name(&ctx->minor, &client->cred_name);
 		gss_release_cred(&ctx->minor, &client->creds);
-		client->name = new_name;
+		client->cred_name = new_name;
 		client->creds = ctx->client_creds;
         	ctx->client_creds = GSS_C_NO_CREDENTIAL;
 		client->updated = 1;
@@ -339,12 +412,17 @@
 		i++;
 	}
 
-	if (client->mech == NULL)
-		return GSS_S_FAILURE;
+	if (client->oid.elements == NULL)
+	  client->oid = *ctx->oid;
+	if (client->mech == NULL) {
+	  if (ssh_gssapi_generic_mech_ptr)
+	    client->mech = (ssh_gssapi_mech *) ssh_gssapi_generic_mech_ptr;
+	  else return GSS_S_FAILURE;
+	}
 
 	if (ctx->client_creds &&
 	    (ctx->major = gss_inquire_cred_by_mech(&ctx->minor,
-	     ctx->client_creds, ctx->oid, &client->name, NULL, NULL, NULL))) {
+	     ctx->client_creds, ctx->oid, &client->cred_name, NULL, NULL, NULL))) {
 		ssh_gssapi_error(ctx);
 		return (ctx->major);
 	}
@@ -361,11 +439,16 @@
 		return (ctx->major);
 	}
 
-	if ((ctx->major = ssh_gssapi_parse_ename(ctx,&ename,
+	if ((client->mech->oid.elements != NULL) &&
+	    (ctx->major = ssh_gssapi_parse_ename(ctx,&ename,
 	    &client->exportedname))) {
 		return (ctx->major);
 	}
 
+	if ((ctx->major = gss_duplicate_name(&ctx->minor, ctx->client,
+					     &client->ctx_name)))
+	  return ctx->major;
+	    
 	gss_release_buffer(&ctx->minor, &ename);
 
 	/* We can't copy this structure, so we just move the pointer to it */
@@ -419,11 +502,6 @@
 {
 	OM_uint32 lmin;
 
-	if (gssapi_client.exportedname.length == 0 ||
-	    gssapi_client.exportedname.value == NULL) {
-		debug("No suitable client data");
-		return 0;
-	}
 	if (gssapi_client.mech && gssapi_client.mech->userok)
 		if ((*gssapi_client.mech->userok)(&gssapi_client, user)) {
 			gssapi_client.used = 1;
@@ -434,6 +512,7 @@
 			gss_release_buffer(&lmin, &gssapi_client.displayname);
 			gss_release_buffer(&lmin, &gssapi_client.exportedname);
 			gss_release_cred(&lmin, &gssapi_client.creds);
+			gss_release_name(&lmin, &gssapi_client.ctx_name);
 			memset(&gssapi_client, 0, sizeof(ssh_gssapi_client));
 			return 0;
 		}
